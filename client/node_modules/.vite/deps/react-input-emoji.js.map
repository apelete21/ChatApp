{
  "version": 3,
  "sources": ["../../react-input-emoji/node_modules/style-inject/dist/style-inject.es.js", "../../react-input-emoji/src/utils/emoji-utils.js", "../../react-input-emoji/src/utils/input-event-utils.js", "../../react-input-emoji/src/hooks/use-sanitize.js", "../../react-input-emoji/src/hooks/use-expose.js", "../../react-input-emoji/src/hooks/use-emit.js", "../../react-input-emoji/src/text-input.js", "../../react-input-emoji/src/components/emoji-picker-button.js", "../../react-input-emoji/node_modules/@babel/runtime/helpers/esm/classCallCheck.js", "../../react-input-emoji/node_modules/@babel/runtime/helpers/esm/createClass.js", "../../react-input-emoji/node_modules/@babel/runtime/helpers/esm/typeof.js", "../../react-input-emoji/node_modules/emoji-mart/dist-es/utils/data.js", "../../react-input-emoji/node_modules/emoji-mart/dist-es/polyfills/stringFromCodePoint.js", "../../react-input-emoji/node_modules/emoji-mart/dist-es/utils/index.js", "../../react-input-emoji/node_modules/emoji-mart/dist-es/utils/store.js", "../../react-input-emoji/node_modules/emoji-mart/dist-es/utils/emoji-index/nimble-emoji-index.js", "../../react-input-emoji/node_modules/emoji-mart/dist-es/utils/emoji-index/emoji-index.js", "../../react-input-emoji/node_modules/emoji-mart/dist-es/utils/frequently.js", "../../react-input-emoji/node_modules/@babel/runtime/helpers/esm/defineProperty.js", "../../react-input-emoji/node_modules/@babel/runtime/helpers/esm/extends.js", "../../react-input-emoji/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js", "../../react-input-emoji/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js", "../../react-input-emoji/node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js", "../../react-input-emoji/node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js", "../../react-input-emoji/node_modules/@babel/runtime/helpers/esm/inherits.js", "../../react-input-emoji/node_modules/emoji-mart/dist-es/svgs/index.js", "../../react-input-emoji/node_modules/emoji-mart/dist-es/utils/shared-props.js", "../../react-input-emoji/node_modules/emoji-mart/dist-es/components/anchors.js", "../../react-input-emoji/node_modules/emoji-mart/dist-es/utils/shared-default-props.js", "../../react-input-emoji/node_modules/emoji-mart/dist-es/components/emoji/nimble-emoji.js", "../../react-input-emoji/node_modules/emoji-mart/dist-es/components/not-found.js", "../../react-input-emoji/node_modules/emoji-mart/dist-es/components/category.js", "../../react-input-emoji/node_modules/emoji-mart/dist-es/components/skins.js", "../../react-input-emoji/node_modules/emoji-mart/dist-es/components/skins-emoji.js", "../../react-input-emoji/node_modules/emoji-mart/dist-es/components/skins-dot.js", "../../react-input-emoji/node_modules/emoji-mart/dist-es/components/preview.js", "../../react-input-emoji/node_modules/emoji-mart/dist-es/components/search.js", "../../react-input-emoji/node_modules/emoji-mart/dist-es/components/picker/nimble-picker.js", "../../react-input-emoji/node_modules/emoji-mart/dist-es/components/picker/picker.js", "../../react-input-emoji/node_modules/emoji-mart/dist-es/components/emoji/emoji.js", "../../react-input-emoji/src/components/emoji-picker.js", "../../react-input-emoji/src/components/emoji-picker-container.js", "../../react-input-emoji/src/components/emoji-picker-wrapper.js", "../../react-input-emoji/src/utils/mention-utils.js", "../../react-input-emoji/src/hooks/use-mention.js", "../../react-input-emoji/src/components/mention-user-list.js", "../../react-input-emoji/src/components/mention-wrapper.js", "../../react-input-emoji/src/utils/observer.js", "../../react-input-emoji/src/hooks/use-event-listeners.js", "../../react-input-emoji/src/hooks/user-pollute.js", "../../react-input-emoji/src/index.js"],
  "sourcesContent": ["function styleInject(css, ref) {\n  if ( ref === void 0 ) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') { return; }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nexport default styleInject;\n", "// @ts-check\n\nexport const TRANSPARENT_GIF =\n  \"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7\";\n\n/**\n * Replace all text with emoji with an image html tag\n * @param {string} text\n * @return {string}\n */\nexport function replaceAllTextEmojis(text) {\n  let allEmojis = getAllEmojisFromText(text);\n\n  // TODO: get all emoji style\n  const allEmojiStyle = {};\n\n  if (allEmojis) {\n    allEmojis = [...new Set(allEmojis)]; // remove duplicates\n\n    allEmojis.forEach(emoji => {\n      const style = allEmojiStyle[emoji];\n\n      if (!style) return;\n\n      text = replaceAll(\n        text,\n        emoji,\n        `<img\n            style=\"${style}\"\n            data-emoji=\"${emoji}\"\n            src=\"${TRANSPARENT_GIF}\"\n          />`\n      );\n    });\n  }\n\n  return text;\n}\n\n/**\n * Replace all occurrencies in a string\n * @param {string} str\n * @param {string} find\n * @param {string} replace\n * @return {string}\n */\nfunction replaceAll(str, find, replace) {\n  return str.replace(new RegExp(find, \"g\"), replace);\n}\n\n/**\n * Get all emojis from the text\n * @param {string} text\n * @return {string[]}\n */\nfunction getAllEmojisFromText(text) {\n  return text.match(\n    /(?:[\\u2700-\\u27bf]|(?:\\ud83c[\\udde6-\\uddff]){2}|[\\ud800-\\udbff][\\udc00-\\udfff])[\\ufe0e\\ufe0f]?(?:[\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0]|\\ud83c[\\udffb-\\udfff])?(?:\\u200d(?:[^\\ud800-\\udfff]|(?:\\ud83c[\\udde6-\\uddff]){2}|[\\ud800-\\udbff][\\udc00-\\udfff])[\\ufe0e\\ufe0f]?(?:[\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0]|\\ud83c[\\udffb-\\udfff])?)*/g\n  );\n}\n\n// /**\n//  * Get all emoji stlye from emoji mart\n//  * @return {Object.<string, string>}\n//  */\n// function getAllEmojiStyle() {\n//   /** @type {NodeListOf<Element>} */\n//   const allEmojiButton = Array.prototype.slice.call(\n//     document.querySelectorAll(\".emoji-mart-category-list > li > button\")\n//   );\n\n//   /** @type {Object.<string, string>} */\n//   const allEmojiStyle = {};\n\n//   allEmojiButton.forEach(emojiButton => {\n//     const label = emojiButton.getAttribute(\"aria-label\");\n//     const [emoji] = label.split(\",\");\n\n//     const emojiSpanEl = emojiButton.querySelector(\"span\");\n\n//     const style = replaceAll(emojiSpanEl.style.cssText, '\"', \"'\");\n\n//     allEmojiStyle[emoji] = style;\n//   });\n\n//   return allEmojiStyle;\n// }\n\n// eslint-disable-next-line valid-jsdoc\n/**\n *\n * @param { import(\"../types/types\").EmojiMartItem } emoji\n * @return {string}\n */\nexport function getImageEmoji(emoji) {\n  let shortNames = `${emoji.short_names}`;\n\n  shortNames = replaceAll(shortNames, \",\", \", \");\n\n  /** @type {HTMLSpanElement} */\n  const emojiSpanEl =\n    document.querySelector(\n      `[aria-label=\"${emoji.native}, ${shortNames}\"] > span`\n    ) || document.querySelector(`[aria-label=\"${emoji.id}\"] > span`);\n\n  if (!emojiSpanEl) return \"\";\n\n  const style = replaceAll(emojiSpanEl.style.cssText, '\"', \"'\");\n\n  let dataEmoji = emoji.native;\n\n  if (!dataEmoji && emoji.emoticons && emoji.emoticons.length > 0) {\n    dataEmoji = emoji.emoticons[0];\n  }\n\n  return `<img style=\"${style}\" data-emoji=\"${dataEmoji}\" src=\"${TRANSPARENT_GIF}\" />`;\n}\n\n/**\n *\n * @param {string} html\n * @return {string}\n */\nexport function replaceAllTextEmojiToString(html) {\n  const container = document.createElement(\"div\");\n  container.innerHTML = html;\n\n  const images = Array.prototype.slice.call(container.querySelectorAll(\"img\"));\n\n  images.forEach(image => {\n    container.innerHTML = container.innerHTML.replace(\n      image.outerHTML,\n      image.dataset.emoji\n    );\n  });\n\n  return container.innerHTML;\n}\n", "// @ts-check\n\nimport {\n  getImageEmoji,\n  replaceAllTextEmojis,\n  replaceAllTextEmojiToString\n} from \"./emoji-utils\";\n\n/**\n * Handle copy of current selected text\n * @param {React.ClipboardEvent} event\n */\nexport function handleCopy(event) {\n  const selectedText = window.getSelection();\n\n  if (selectedText === null) {\n    return\n  }\n\n  let container = document.createElement(\"div\");\n\n  for (let i = 0, len = selectedText.rangeCount; i < len; ++i) {\n    container.appendChild(selectedText.getRangeAt(i).cloneContents());\n  }\n\n  container = replaceEmojiToString(container);\n\n  event.clipboardData.setData(\"text\", container.innerText);\n  event.preventDefault();\n}\n\n/**\n *\n * @param {string} html\n */\nexport function handlePasteHtmlAtCaret(html) {\n  let sel;\n  let range;\n  if (window.getSelection) {\n    // IE9 and non-IE\n    sel = window.getSelection();\n\n    if (sel === null) return\n\n    if (sel.getRangeAt && sel.rangeCount) {\n      range = sel.getRangeAt(0);\n      range.deleteContents();\n\n      // Range.createContextualFragment() would be useful here but is\n      // non-standard and not supported in all browsers (IE9, for one)\n      const el = document.createElement(\"div\");\n      el.innerHTML = html;\n      const frag = document.createDocumentFragment();\n      let node;\n      let lastNode;\n      while ((node = el.firstChild)) {\n        lastNode = frag.appendChild(node);\n      }\n      range.insertNode(frag);\n\n      // Preserve the selection\n      if (lastNode) {\n        range = range.cloneRange();\n        range.setStartAfter(lastNode);\n        range.collapse(true);\n        sel.removeAllRanges();\n        sel.addRange(range);\n      }\n    }\n  }\n}\n\n/**\n * Replace emoji img to its string value\n * @param {HTMLDivElement} container\n * @return {HTMLDivElement}\n */\nfunction replaceEmojiToString(container) {\n  const images = Array.prototype.slice.call(container.querySelectorAll(\"img\"));\n\n  images.forEach(image => {\n    image.outerHTML = image.dataset.emoji;\n  });\n\n  return container;\n}\n\n/**\n * Handle past on input\n * @param {React.ClipboardEvent} event\n */\nexport function handlePaste(event) {\n  event.preventDefault();\n  let content;\n  if (event.clipboardData) {\n    content = event.clipboardData.getData(\"text/plain\");\n    content = replaceAllTextEmojis(content);\n    document.execCommand(\"insertHTML\", false, content);\n  }\n}\n\n/**\n * @typedef {object} HandleKeyDownOptions\n * @property {HTMLDivElement} placeholderEl\n * @property {number} maxLength\n * @property {HTMLDivElement} inputEl\n * @property {React.MutableRefObject<string>} cleanedTextRef\n * @property {React.MutableRefObject<HTMLDivElement>} textInputRef\n * @property {boolean} cleanOnEnter\n * @property {function(): void} emitChange\n * @property {(function(string): void)=} onEnter\n * @property {(function(KeyboardEvent): void)=} onKeyDown\n * @property {(function(string): void)} updateHTML\n */\n\n// eslint-disable-next-line valid-jsdoc\n/**\n * @typedef {Object} HandleSelectEmojiProps\n * @property {import(\"../types/types\").EmojiMartItem} emoji\n * @property {React.MutableRefObject<import('../text-input').Ref>} textInputRef\n * @property {boolean} keepOpened\n * @property {() => void} toggleShowPicker\n * @property {number=} maxLength\n */\n\n/**\n *\n * @param {HandleSelectEmojiProps} props\n */\nexport function handleSelectEmoji({\n  emoji,\n  textInputRef,\n  keepOpened,\n  toggleShowPicker,\n  maxLength\n}) {\n  if (\n    typeof maxLength !== \"undefined\" &&\n    totalCharacters(textInputRef.current) >= maxLength\n  ) {\n    return;\n  }\n\n  textInputRef.current.appendContent(getImageEmoji(emoji));\n\n  if (!keepOpened) {\n    toggleShowPicker();\n  }\n}\n\n/**\n *\n * @param {{text: string, html: string}} props\n * @return {number}\n */\nexport function totalCharacters({ text, html }) {\n  const textCount = text.length;\n  const emojisCount = (html.match(/<img/g) || []).length;\n\n  return textCount + emojisCount;\n}\n\n// eslint-disable-next-line valid-jsdoc\n/**\n * Handle keyup event\n * @param {() => void} emitChange\n * @param {(event: KeyboardEvent) => void} onKeyDownMention\n * @param {React.MutableRefObject<string>} cleanedTextRef\n * @param {React.MutableRefObject<HTMLDivElement>} textInputRef\n * @return {(event: KeyboardEvent) => void}\n */\nexport function handleKeyup(\n  emitChange,\n  onKeyDownMention,\n  cleanedTextRef,\n  textInputRef\n) {\n  return event => {\n    const text = replaceAllTextEmojiToString(textInputRef.current.innerHTML);\n    cleanedTextRef.current = text;\n    emitChange();\n    onKeyDownMention(event);\n  };\n}\n\n/**\n * Handle focus event\n * @param {function(FocusEvent): void} onFocus\n * @return {function(FocusEvent): void}\n */\nexport function handleFocus(onFocus) {\n  return event => {\n    onFocus(event);\n  };\n}\n", "// @ts-check\n\nimport { useCallback, useRef } from \"react\";\n\n/**\n * @typedef {import('../types/types').SanitizeFn} SanitizeFn\n */\n\n// eslint-disable-next-line valid-jsdoc\n/** */\nexport function useSanitize() {\n  /** @type {React.MutableRefObject<SanitizeFn[]>} */\n  const sanitizeFnsRef = useRef([]);\n\n  const sanitizedTextRef = useRef(\"\");\n\n  /** @type {(fn: SanitizeFn) => void} */\n  const addSanitizeFn = useCallback(fn => {\n    sanitizeFnsRef.current.push(fn);\n  }, []);\n\n  /** @type {(html: string) => string} */\n  const sanitize = useCallback(html => {\n    let result = sanitizeFnsRef.current.reduce((acc, fn) => {\n      return fn(acc);\n    }, html);\n\n    result = replaceAllHtmlToString(result);\n\n    sanitizedTextRef.current = result;\n\n    return result;\n  }, []);\n\n  return { addSanitizeFn, sanitize, sanitizedTextRef };\n}\n\n/**\n *\n * @param {string} html\n * @return {string}\n */\nexport function replaceAllHtmlToString(html) {\n  const container = document.createElement(\"div\");\n  container.innerHTML = html;\n\n  let text = container.innerText || \"\";\n\n  // remove all ↵ for safari\n  text = text.replace(/\\n/gi, \"\");\n\n  return text;\n}\n", "// @ts-check\n\nimport { useImperativeHandle } from \"react\";\nimport { useSanitize } from \"./use-sanitize\";\n\n/**\n * @typedef {Object} Props\n * @property {React.Ref<any>} ref\n * @property {React.MutableRefObject<import('../text-input').Ref | null>} textInputRef\n * @property {(value: string) => void} setValue\n * @property {() => void} emitChange\n */\n\n/**\n *\n * @param {Props} props\n */\nexport function useExpose({ ref, textInputRef, setValue, emitChange }) {\n  const { sanitize, sanitizedTextRef } = useSanitize();\n\n  useImperativeHandle(ref, () => ({\n    get value() {\n      return sanitizedTextRef.current;\n    },\n    set value(value) {\n      setValue(value);\n    },\n    focus: () => {\n      if (textInputRef.current === null) return\n      textInputRef.current.focus();\n    },\n    blur: () => {\n      if (textInputRef.current !== null) {\n        sanitize(textInputRef.current.html);\n\n      }\n\n      emitChange();\n    }\n  }));\n}\n", "// @ts-check\n\nimport { useCallback, useEffect, useRef } from \"react\";\n\n// eslint-disable-next-line valid-jsdoc\n/**\n * useEmit\n * @param {React.MutableRefObject<import('../text-input').Ref | null>} textInputRef\n * @param {(size: {width: number, height: number}) => void} onResize\n * @param {(text: string) => void} onChange\n */\nexport function useEmit(textInputRef, onResize, onChange) {\n  /** @type {React.MutableRefObject<{width: number; height: number} | null>} */\n  const currentSizeRef = useRef(null);\n  const onChangeFn = useRef(onChange);\n\n  const checkAndEmitResize = useCallback(() => {\n    if (textInputRef.current !== null) {\n      const currentSize = currentSizeRef.current;\n\n      const nextSize = textInputRef.current.size;\n\n      if (\n        (!currentSize ||\n          currentSize.width !== nextSize.width ||\n          currentSize.height !== nextSize.height) &&\n        typeof onResize === \"function\"\n      ) {\n        onResize(nextSize);\n      }\n\n      currentSizeRef.current = nextSize;\n    }\n  }, [onResize, textInputRef]);\n\n  const emitChange = useCallback((sanitizedText) => {\n    if (typeof onChangeFn.current === \"function\") {\n      onChangeFn.current(sanitizedText);\n    }\n\n    if (typeof onResize === \"function\") {\n      checkAndEmitResize();\n    }\n  }, [checkAndEmitResize, onResize]);\n\n  useEffect(() => {\n    if (textInputRef.current) {\n      checkAndEmitResize();\n    }\n  }, [checkAndEmitResize, textInputRef]);\n\n  return emitChange;\n}\n", "// @ts-check\n/* eslint-disable react/prop-types */\n// vendors\nimport React, { useImperativeHandle, forwardRef, useRef } from \"react\";\nimport { handlePasteHtmlAtCaret } from \"./utils/input-event-utils\";\n\n/**\n * @typedef {Object} Props\n * @property {(event: React.KeyboardEvent) => void} onKeyDown\n * @property {(event: React.KeyboardEvent) => void} onKeyUp\n * @property {() => void} onFocus\n * @property {() => void} onBlur\n * @property {(sanitizedText: string) => void=} onChange\n * @property {(event: React.KeyboardEvent) => void} onArrowUp\n * @property {(event: React.KeyboardEvent) => void} onArrowDown\n * @property {(event: React.KeyboardEvent) => void} onEnter\n * @property {(event: React.ClipboardEvent) => void} onCopy\n * @property {(event: React.ClipboardEvent) => void} onPaste\n * @property {string} placeholder\n * @property {React.CSSProperties} style\n * @property {number} tabIndex\n * @property {string} className\n * @property {(html: string) => void} onChange\n */\n\n/**\n * @typedef {{\n *  appendContent: (html: string) => void;\n *  html: string;\n *  text: string;\n *  size: { width: number; height: number;};\n *  focus: () => void;\n * }} Ref\n */\n\n// eslint-disable-next-line valid-jsdoc\n/** @type {React.ForwardRefRenderFunction<Ref, Props>} */\nconst TextInput = (\n  { placeholder, style, tabIndex, className, onChange, ...props },\n  ref\n) => {\n  useImperativeHandle(ref, () => ({\n    appendContent: html => {\n      if (textInputRef.current) {\n        textInputRef.current.focus();\n      }\n\n      handlePasteHtmlAtCaret(html);\n\n      if (textInputRef.current) {\n        textInputRef.current.focus();\n      }\n\n      if (textInputRef.current && placeholderRef.current && textInputRef.current.innerHTML.trim() === \"\") {\n        placeholderRef.current.style.visibility = \"visible\";\n      } else if (placeholderRef.current) {\n        placeholderRef.current.style.visibility = \"hidden\";\n      }\n\n      if (textInputRef.current && typeof onChange === 'function') {\n        onChange(textInputRef.current.innerHTML);\n      }\n    },\n    set html(value) {\n      if (textInputRef.current) {\n        textInputRef.current.innerHTML = value;\n      }\n      \n      if (placeholderRef.current) {\n        if (value.trim() === \"\") {\n          placeholderRef.current.style.visibility = \"visible\";\n        } else {\n          placeholderRef.current.style.visibility = \"hidden\";\n        }\n      }\n\n      if (typeof onChange === 'function' && textInputRef.current) {\n        onChange(textInputRef.current.innerHTML);\n      }\n    },\n    get html() {\n      if (!textInputRef.current) return ''\n\n      return textInputRef.current.innerHTML;\n    },\n    get text() {\n      if (!textInputRef.current) return ''\n\n      return textInputRef.current.innerText;\n    },\n    get size() {\n      if (!textInputRef.current) {\n        return {\n          width: 0,\n          height: 0\n        }\n      }\n\n      return {\n        width: textInputRef.current.offsetWidth,\n        height: textInputRef.current.offsetHeight\n      };\n    },\n    focus() {\n      if (!textInputRef.current) return\n\n      textInputRef.current.focus();\n    }\n  }));\n\n  /** @type {React.MutableRefObject<HTMLDivElement | null>} */\n  const placeholderRef = useRef(null);\n  /** @type {React.MutableRefObject<HTMLDivElement | null>} */\n  const textInputRef = useRef(null);\n\n  /**\n   *\n   * @param {React.KeyboardEvent} event\n   */\n  function handleKeyDown(event) {\n    if (event.key === \"Enter\") {\n      props.onEnter(event);\n    } else if (event.key === \"ArrowUp\") {\n      props.onArrowUp(event);\n    } else if (event.key === \"ArrowDown\") {\n      props.onArrowDown(event);\n    } else {\n      if (event.key.length === 1 && placeholderRef.current) {\n        placeholderRef.current.style.visibility = \"hidden\";\n      }\n    }\n\n    props.onKeyDown(event);\n  }\n\n  /** */\n  function handleClick() {\n    props.onFocus();\n  }\n\n  /**\n   *\n   * @param {React.KeyboardEvent} event\n   */\n  function handleKeyUp(event) {\n    props.onKeyUp(event);\n\n    const input = textInputRef.current;\n\n    if (placeholderRef.current) {\n      if (input?.innerText?.trim() === \"\") {\n        placeholderRef.current.style.visibility = \"visible\";\n      } else {\n        placeholderRef.current.style.visibility = \"hidden\";\n      }\n    }\n\n    if (typeof onChange === 'function' && textInputRef.current) {\n      onChange(textInputRef.current.innerHTML);\n    }\n  }\n\n  return (\n    <div className=\"react-input-emoji--container\" style={style}>\n      <div className=\"react-input-emoji--wrapper\" onClick={handleClick}>\n        <div ref={placeholderRef} className=\"react-input-emoji--placeholder\">\n          {placeholder}\n        </div>\n        <div\n          ref={textInputRef}\n          onKeyDown={handleKeyDown}\n          onKeyUp={handleKeyUp}\n          tabIndex={tabIndex}\n          contentEditable\n          className={`react-input-emoji--input${className ? ` ${className}` : \"\"\n            }`}\n          onBlur={props.onBlur}\n          onCopy={props.onCopy}\n          onPaste={props.onPaste}\n          data-testid=\"react-input-emoji--input\"\n        />\n      </div>\n    </div>\n  );\n};\n\nconst TextInputWithRef = forwardRef(TextInput);\n\nexport default TextInputWithRef;\n", "/* eslint-disable react/prop-types */\n// vendors\nimport React, { useEffect, useRef, useState } from \"react\";\n\n/**\n * @typedef {object} Props\n * @property {boolean} showPicker\n * @property {(event: React.MouseEvent) => void} toggleShowPicker\n * @property {HTMLDivElement=} buttonElement\n */\n\n/**\n * Emoji Picker Button Component\n * @param {Props} props\n * @return {JSX.Element}\n */\nfunction EmojiPickerButton({ showPicker, toggleShowPicker, buttonElement }) {\n  const buttonRef = useRef(null);\n  const [showCustomButtonContent, setShowCustomButtonContent] = useState(false);\n\n  useEffect(() => {\n    if ((buttonElement?.childNodes?.length ?? 0) > 2) {\n      buttonRef.current.appendChild(buttonElement?.childNodes[0]);\n      setShowCustomButtonContent(true);\n    }\n  }, [buttonElement?.childNodes]);\n\n  return (\n    <button\n      ref={buttonRef}\n      type=\"button\"\n      className={`react-input-emoji--button${\n        showPicker ? \" react-input-emoji--button__show\" : \"\"\n      }`}\n      onClick={toggleShowPicker}\n    >\n      {!showCustomButtonContent && (\n        <svg\n          xmlns=\"http://www.w3.org/2000/svg\"\n          viewBox=\"0 0 24 24\"\n          width=\"24\"\n          height=\"24\"\n          className=\"react-input-emoji--button--icon\"\n        >\n          {/* eslint-disable-next-line max-len */}\n          <path d=\"M12 0C5.373 0 0 5.373 0 12s5.373 12 12 12 12-5.373 12-12S18.627 0 12 0m0 22C6.486 22 2 17.514 2 12S6.486 2 12 2s10 4.486 10 10-4.486 10-10 10\" />\n          {/* eslint-disable-next-line max-len */}\n          <path d=\"M8 7a2 2 0 1 0-.001 3.999A2 2 0 0 0 8 7M16 7a2 2 0 1 0-.001 3.999A2 2 0 0 0 16 7M15.232 15c-.693 1.195-1.87 2-3.349 2-1.477 0-2.655-.805-3.347-2H15m3-2H6a6 6 0 1 0 12 0\" />\n        </svg>\n      )}\n    </button>\n  );\n}\n\nexport default EmojiPickerButton;\n", "export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}", "function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}", "export default function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n  }, _typeof(obj);\n}", "var mapping = {\n  name: 'a',\n  unified: 'b',\n  non_qualified: 'c',\n  has_img_apple: 'd',\n  has_img_google: 'e',\n  has_img_twitter: 'f',\n  has_img_facebook: 'h',\n  keywords: 'j',\n  sheet: 'k',\n  emoticons: 'l',\n  text: 'm',\n  short_names: 'n',\n  added_in: 'o'\n};\n\nvar buildSearch = function buildSearch(emoji) {\n  var search = [];\n\n  var addToSearch = function addToSearch(strings, split) {\n    if (!strings) {\n      return;\n    }\n\n    ;\n    (Array.isArray(strings) ? strings : [strings]).forEach(function (string) {\n      ;\n      (split ? string.split(/[-|_|\\s]+/) : [string]).forEach(function (s) {\n        s = s.toLowerCase();\n\n        if (search.indexOf(s) == -1) {\n          search.push(s);\n        }\n      });\n    });\n  };\n\n  addToSearch(emoji.short_names, true);\n  addToSearch(emoji.name, true);\n  addToSearch(emoji.keywords, false);\n  addToSearch(emoji.emoticons, false);\n  return search.join(',');\n};\n\nvar compress = function compress(emoji) {\n  emoji.short_names = emoji.short_names.filter(function (short_name) {\n    return short_name !== emoji.short_name;\n  });\n  delete emoji.short_name;\n  emoji.sheet = [emoji.sheet_x, emoji.sheet_y];\n  delete emoji.sheet_x;\n  delete emoji.sheet_y;\n  emoji.added_in = parseInt(emoji.added_in);\n\n  if (emoji.added_in === 6) {\n    delete emoji.added_in;\n  }\n\n  for (var key in mapping) {\n    emoji[mapping[key]] = emoji[key];\n    delete emoji[key];\n  }\n\n  for (var _key in emoji) {\n    var value = emoji[_key];\n\n    if (Array.isArray(value) && !value.length) {\n      delete emoji[_key];\n    } else if (typeof value === 'string' && !value.length) {\n      delete emoji[_key];\n    } else if (value === null) {\n      delete emoji[_key];\n    }\n  }\n};\n\nvar uncompress = function uncompress(data) {\n  data.compressed = false;\n\n  for (var id in data.emojis) {\n    var emoji = data.emojis[id];\n\n    for (var key in mapping) {\n      emoji[key] = emoji[mapping[key]];\n      delete emoji[mapping[key]];\n    }\n\n    if (!emoji.short_names) emoji.short_names = [];\n    emoji.short_names.unshift(id);\n    emoji.sheet_x = emoji.sheet[0];\n    emoji.sheet_y = emoji.sheet[1];\n    delete emoji.sheet;\n    if (!emoji.text) emoji.text = '';\n    if (!emoji.added_in) emoji.added_in = 6;\n    emoji.added_in = emoji.added_in.toFixed(1);\n    emoji.search = buildSearch(emoji);\n  }\n};\n\nexport { buildSearch, compress, uncompress };", "var _String = String;\nexport default _String.fromCodePoint || function stringFromCodePoint() {\n  var MAX_SIZE = 0x4000;\n  var codeUnits = [];\n  var highSurrogate;\n  var lowSurrogate;\n  var index = -1;\n  var length = arguments.length;\n\n  if (!length) {\n    return '';\n  }\n\n  var result = '';\n\n  while (++index < length) {\n    var codePoint = Number(arguments[index]);\n\n    if (!isFinite(codePoint) || // `NaN`, `+Infinity`, or `-Infinity`\n    codePoint < 0 || // not a valid Unicode code point\n    codePoint > 0x10ffff || // not a valid Unicode code point\n    Math.floor(codePoint) != codePoint // not an integer\n    ) {\n        throw RangeError('Invalid code point: ' + codePoint);\n      }\n\n    if (codePoint <= 0xffff) {\n      // BMP code point\n      codeUnits.push(codePoint);\n    } else {\n      // Astral code point; split in surrogate halves\n      // http://mathiasbynens.be/notes/javascript-encoding#surrogate-formulae\n      codePoint -= 0x10000;\n      highSurrogate = (codePoint >> 10) + 0xd800;\n      lowSurrogate = codePoint % 0x400 + 0xdc00;\n      codeUnits.push(highSurrogate, lowSurrogate);\n    }\n\n    if (index + 1 === length || codeUnits.length > MAX_SIZE) {\n      result += String.fromCharCode.apply(null, codeUnits);\n      codeUnits.length = 0;\n    }\n  }\n\n  return result;\n};", "import _typeof from \"@babel/runtime/helpers/typeof\";\nimport { buildSearch } from './data';\nimport stringFromCodePoint from '../polyfills/stringFromCodePoint';\nimport { uncompress } from './data';\nvar COLONS_REGEX = /^(?:\\:([^\\:]+)\\:)(?:\\:skin-tone-(\\d)\\:)?$/;\nvar SKINS = ['1F3FA', '1F3FB', '1F3FC', '1F3FD', '1F3FE', '1F3FF'];\n\nfunction unifiedToNative(unified) {\n  var unicodes = unified.split('-'),\n      codePoints = unicodes.map(function (u) {\n    return \"0x\".concat(u);\n  });\n  return stringFromCodePoint.apply(null, codePoints);\n}\n\nfunction sanitize(emoji) {\n  var name = emoji.name,\n      short_names = emoji.short_names,\n      skin_tone = emoji.skin_tone,\n      skin_variations = emoji.skin_variations,\n      emoticons = emoji.emoticons,\n      unified = emoji.unified,\n      custom = emoji.custom,\n      customCategory = emoji.customCategory,\n      imageUrl = emoji.imageUrl,\n      id = emoji.id || short_names[0],\n      colons = \":\".concat(id, \":\");\n\n  if (custom) {\n    return {\n      id: id,\n      name: name,\n      short_names: short_names,\n      colons: colons,\n      emoticons: emoticons,\n      custom: custom,\n      customCategory: customCategory,\n      imageUrl: imageUrl\n    };\n  }\n\n  if (skin_tone) {\n    colons += \":skin-tone-\".concat(skin_tone, \":\");\n  }\n\n  return {\n    id: id,\n    name: name,\n    short_names: short_names,\n    colons: colons,\n    emoticons: emoticons,\n    unified: unified.toLowerCase(),\n    skin: skin_tone || (skin_variations ? 1 : null),\n    \"native\": unifiedToNative(unified)\n  };\n}\n\nfunction getSanitizedData() {\n  return sanitize(getData.apply(void 0, arguments));\n}\n\nfunction getData(emoji, skin, set, data) {\n  var emojiData = {};\n\n  if (typeof emoji == 'string') {\n    var matches = emoji.match(COLONS_REGEX);\n\n    if (matches) {\n      emoji = matches[1];\n\n      if (matches[2]) {\n        skin = parseInt(matches[2], 10);\n      }\n    }\n\n    if (data.aliases.hasOwnProperty(emoji)) {\n      emoji = data.aliases[emoji];\n    }\n\n    if (data.emojis.hasOwnProperty(emoji)) {\n      emojiData = data.emojis[emoji];\n    } else {\n      return null;\n    }\n  } else if (emoji.id) {\n    if (data.aliases.hasOwnProperty(emoji.id)) {\n      emoji.id = data.aliases[emoji.id];\n    }\n\n    if (data.emojis.hasOwnProperty(emoji.id)) {\n      emojiData = data.emojis[emoji.id];\n      skin || (skin = emoji.skin);\n    }\n  }\n\n  if (!Object.keys(emojiData).length) {\n    emojiData = emoji;\n    emojiData.custom = true;\n\n    if (!emojiData.search) {\n      emojiData.search = buildSearch(emoji);\n    }\n  }\n\n  emojiData.emoticons || (emojiData.emoticons = []);\n  emojiData.variations || (emojiData.variations = []);\n\n  if (emojiData.skin_variations && skin > 1) {\n    emojiData = JSON.parse(JSON.stringify(emojiData));\n    var skinKey = SKINS[skin - 1],\n        variationData = emojiData.skin_variations[skinKey];\n\n    if (variationData) {\n      if (!variationData.variations && emojiData.variations) {\n        delete emojiData.variations;\n      }\n\n      if (set && (variationData[\"has_img_\".concat(set)] == undefined || variationData[\"has_img_\".concat(set)]) || !set) {\n        emojiData.skin_tone = skin;\n\n        for (var k in variationData) {\n          var v = variationData[k];\n          emojiData[k] = v;\n        }\n      }\n    }\n  }\n\n  if (emojiData.variations && emojiData.variations.length) {\n    emojiData = JSON.parse(JSON.stringify(emojiData));\n    emojiData.unified = emojiData.variations.shift();\n  }\n\n  return emojiData;\n}\n\nfunction getEmojiDataFromNative(nativeString, set, data) {\n  if (data.compressed) {\n    uncompress(data);\n  }\n\n  var skinTones = ['🏻', '🏼', '🏽', '🏾', '🏿'];\n  var skinCodes = ['1F3FB', '1F3FC', '1F3FD', '1F3FE', '1F3FF'];\n  var skin;\n  var skinCode;\n  var baseNativeString = nativeString;\n  skinTones.forEach(function (skinTone, skinToneIndex) {\n    if (nativeString.indexOf(skinTone) > 0) {\n      skin = skinToneIndex + 2;\n      skinCode = skinCodes[skinToneIndex];\n    }\n  });\n  var emojiData;\n\n  for (var id in data.emojis) {\n    var emoji = data.emojis[id];\n    var emojiUnified = emoji.unified;\n\n    if (emoji.variations && emoji.variations.length) {\n      emojiUnified = emoji.variations.shift();\n    }\n\n    if (skin && emoji.skin_variations && emoji.skin_variations[skinCode]) {\n      emojiUnified = emoji.skin_variations[skinCode].unified;\n    }\n\n    if (unifiedToNative(emojiUnified) === baseNativeString) emojiData = emoji;\n  }\n\n  if (!emojiData) {\n    return null;\n  }\n\n  emojiData.id = emojiData.short_names[0];\n  return getSanitizedData(emojiData, skin, set, data);\n}\n\nfunction uniq(arr) {\n  return arr.reduce(function (acc, item) {\n    if (acc.indexOf(item) === -1) {\n      acc.push(item);\n    }\n\n    return acc;\n  }, []);\n}\n\nfunction intersect(a, b) {\n  var uniqA = uniq(a);\n  var uniqB = uniq(b);\n  return uniqA.filter(function (item) {\n    return uniqB.indexOf(item) >= 0;\n  });\n}\n\nfunction deepMerge(a, b) {\n  var o = {};\n\n  for (var key in a) {\n    var originalValue = a[key],\n        value = originalValue;\n\n    if (b.hasOwnProperty(key)) {\n      value = b[key];\n    }\n\n    if (_typeof(value) === 'object') {\n      value = deepMerge(originalValue, value);\n    }\n\n    o[key] = value;\n  }\n\n  return o;\n} // https://github.com/sonicdoe/measure-scrollbar\n\n\nfunction measureScrollbar() {\n  if (typeof document == 'undefined') return 0;\n  var div = document.createElement('div');\n  div.style.width = '100px';\n  div.style.height = '100px';\n  div.style.overflow = 'scroll';\n  div.style.position = 'absolute';\n  div.style.top = '-9999px';\n  document.body.appendChild(div);\n  var scrollbarWidth = div.offsetWidth - div.clientWidth;\n  document.body.removeChild(div);\n  return scrollbarWidth;\n} // Use requestIdleCallback() if available, else fall back to setTimeout().\n// Throttle so as not to run too frequently.\n\n\nfunction throttleIdleTask(func) {\n  var doIdleTask = typeof requestIdleCallback === 'function' ? requestIdleCallback : setTimeout;\n  var running = false;\n  return function throttled() {\n    if (running) {\n      return;\n    }\n\n    running = true;\n    doIdleTask(function () {\n      running = false;\n      func();\n    });\n  };\n}\n\nexport { getData, getEmojiDataFromNative, getSanitizedData, uniq, intersect, deepMerge, unifiedToNative, measureScrollbar, throttleIdleTask };", "var NAMESPACE = 'emoji-mart';\nvar isLocalStorageSupported = typeof window !== 'undefined' && 'localStorage' in window;\nvar getter;\nvar setter;\n\nfunction setHandlers(handlers) {\n  handlers || (handlers = {});\n  getter = handlers.getter;\n  setter = handlers.setter;\n}\n\nfunction setNamespace(namespace) {\n  NAMESPACE = namespace;\n}\n\nfunction update(state) {\n  for (var key in state) {\n    var value = state[key];\n    set(key, value);\n  }\n}\n\nfunction set(key, value) {\n  if (setter) {\n    setter(key, value);\n  } else {\n    if (!isLocalStorageSupported) return;\n\n    try {\n      window.localStorage[\"\".concat(NAMESPACE, \".\").concat(key)] = JSON.stringify(value);\n    } catch (e) {}\n  }\n}\n\nfunction get(key) {\n  if (getter) {\n    return getter(key);\n  } else {\n    if (!isLocalStorageSupported) return;\n\n    try {\n      var value = window.localStorage[\"\".concat(NAMESPACE, \".\").concat(key)];\n\n      if (value) {\n        return JSON.parse(value);\n      }\n    } catch (e) {\n      return;\n    }\n  }\n}\n\nexport default {\n  update: update,\n  set: set,\n  get: get,\n  setNamespace: setNamespace,\n  setHandlers: setHandlers\n};", "import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport { getData, getSanitizedData, intersect } from '..';\nimport { uncompress } from '../data';\nimport store from '../store';\n\nvar NimbleEmojiIndex =\n/*#__PURE__*/\nfunction () {\n  function NimbleEmojiIndex(data, set) {\n    _classCallCheck(this, NimbleEmojiIndex);\n\n    if (data.compressed) {\n      uncompress(data);\n    }\n\n    this.data = data || {};\n    this.set = set || null;\n    this.originalPool = {};\n    this.index = {};\n    this.emojis = {};\n    this.emoticons = {};\n    this.customEmojisList = [];\n    this.buildIndex();\n  }\n\n  _createClass(NimbleEmojiIndex, [{\n    key: \"buildIndex\",\n    value: function buildIndex() {\n      var _this = this;\n\n      var _loop = function _loop(emoji) {\n        var emojiData = _this.data.emojis[emoji],\n            short_names = emojiData.short_names,\n            emoticons = emojiData.emoticons,\n            skin_variations = emojiData.skin_variations,\n            id = short_names[0];\n\n        if (emoticons) {\n          emoticons.forEach(function (emoticon) {\n            if (_this.emoticons[emoticon]) {\n              return;\n            }\n\n            _this.emoticons[emoticon] = id;\n          });\n        } // If skin variations include them\n\n\n        if (skin_variations) {\n          _this.emojis[id] = {};\n\n          for (var skinTone = 1; skinTone <= 6; skinTone++) {\n            _this.emojis[id][skinTone] = getSanitizedData({\n              id: id,\n              skin: skinTone\n            }, skinTone, _this.set, _this.data);\n          }\n        } else {\n          _this.emojis[id] = getSanitizedData(id, null, _this.set, _this.data);\n        }\n\n        _this.originalPool[id] = emojiData;\n      };\n\n      for (var emoji in this.data.emojis) {\n        _loop(emoji);\n      }\n    }\n  }, {\n    key: \"clearCustomEmojis\",\n    value: function clearCustomEmojis(pool) {\n      var _this2 = this;\n\n      this.customEmojisList.forEach(function (emoji) {\n        var emojiId = emoji.id || emoji.short_names[0];\n        delete pool[emojiId];\n        delete _this2.emojis[emojiId];\n      });\n    }\n  }, {\n    key: \"addCustomToPool\",\n    value: function addCustomToPool(custom, pool) {\n      var _this3 = this;\n\n      if (this.customEmojisList.length) this.clearCustomEmojis(pool);\n      custom.forEach(function (emoji) {\n        var emojiId = emoji.id || emoji.short_names[0];\n\n        if (emojiId && !pool[emojiId]) {\n          pool[emojiId] = getData(emoji, null, null, _this3.data);\n          _this3.emojis[emojiId] = getSanitizedData(emoji, null, null, _this3.data);\n        }\n      });\n      this.customEmojisList = custom;\n      this.index = {};\n    }\n  }, {\n    key: \"search\",\n    value: function search(value) {\n      var _this4 = this;\n\n      var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n          emojisToShowFilter = _ref.emojisToShowFilter,\n          maxResults = _ref.maxResults,\n          include = _ref.include,\n          exclude = _ref.exclude,\n          _ref$custom = _ref.custom,\n          custom = _ref$custom === void 0 ? [] : _ref$custom;\n\n      if (this.customEmojisList != custom) this.addCustomToPool(custom, this.originalPool);\n      var skinTone = store.get('skin') || 1;\n      maxResults || (maxResults = 75);\n      include || (include = []);\n      exclude || (exclude = []);\n      var results = null,\n          pool = this.originalPool;\n\n      if (value.length) {\n        if (value == '-' || value == '-1') {\n          return [this.emojis['-1'][skinTone]];\n        }\n\n        var values = value.toLowerCase().split(/[\\s|,|\\-|_]+/),\n            allResults = [];\n\n        if (values.length > 2) {\n          values = [values[0], values[1]];\n        }\n\n        if (include.length || exclude.length) {\n          pool = {};\n          this.data.categories.forEach(function (category) {\n            var isIncluded = include && include.length ? include.indexOf(category.id) > -1 : true;\n            var isExcluded = exclude && exclude.length ? exclude.indexOf(category.id) > -1 : false;\n\n            if (!isIncluded || isExcluded) {\n              return;\n            }\n\n            category.emojis.forEach(function (emojiId) {\n              return pool[emojiId] = _this4.data.emojis[emojiId];\n            });\n          });\n\n          if (custom.length) {\n            var customIsIncluded = include && include.length ? include.indexOf('custom') > -1 : true;\n            var customIsExcluded = exclude && exclude.length ? exclude.indexOf('custom') > -1 : false;\n\n            if (customIsIncluded && !customIsExcluded) {\n              this.addCustomToPool(custom, pool);\n            }\n          }\n        }\n\n        allResults = values.map(function (value) {\n          var aPool = pool,\n              aIndex = _this4.index,\n              length = 0;\n\n          for (var charIndex = 0; charIndex < value.length; charIndex++) {\n            var _char = value[charIndex];\n            length++;\n            aIndex[_char] || (aIndex[_char] = {});\n            aIndex = aIndex[_char];\n\n            if (!aIndex.results) {\n              (function () {\n                var scores = {};\n                aIndex.results = [];\n                aIndex.pool = {};\n\n                for (var id in aPool) {\n                  var emoji = aPool[id],\n                      search = emoji.search,\n                      sub = value.substr(0, length),\n                      subIndex = search.indexOf(sub);\n\n                  if (subIndex != -1) {\n                    var score = subIndex + 1;\n                    if (sub == id) score = 0;\n\n                    if (_this4.emojis[id] && _this4.emojis[id][skinTone]) {\n                      aIndex.results.push(_this4.emojis[id][skinTone]);\n                    } else {\n                      aIndex.results.push(_this4.emojis[id]);\n                    }\n\n                    aIndex.pool[id] = emoji;\n                    scores[id] = score;\n                  }\n                }\n\n                aIndex.results.sort(function (a, b) {\n                  var aScore = scores[a.id],\n                      bScore = scores[b.id];\n\n                  if (aScore == bScore) {\n                    return a.id.localeCompare(b.id);\n                  } else {\n                    return aScore - bScore;\n                  }\n                });\n              })();\n            }\n\n            aPool = aIndex.pool;\n          }\n\n          return aIndex.results;\n        }).filter(function (a) {\n          return a;\n        });\n\n        if (allResults.length > 1) {\n          results = intersect.apply(null, allResults);\n        } else if (allResults.length) {\n          results = allResults[0];\n        } else {\n          results = [];\n        }\n      }\n\n      if (results) {\n        if (emojisToShowFilter) {\n          results = results.filter(function (result) {\n            return emojisToShowFilter(pool[result.id]);\n          });\n        }\n\n        if (results && results.length > maxResults) {\n          results = results.slice(0, maxResults);\n        }\n      }\n\n      return results;\n    }\n  }]);\n\n  return NimbleEmojiIndex;\n}();\n\nexport { NimbleEmojiIndex as default };", "import data from '../../../data/all.json';\nimport NimbleEmojiIndex from './nimble-emoji-index';\nvar emojiIndex = new NimbleEmojiIndex(data);\nvar emojis = emojiIndex.emojis,\n    emoticons = emojiIndex.emoticons;\n\nfunction search() {\n  return emojiIndex.search.apply(emojiIndex, arguments);\n}\n\nexport default {\n  search: search,\n  emojis: emojis,\n  emoticons: emoticons\n};", "import store from './store';\nvar DEFAULTS = ['+1', 'grinning', 'kissing_heart', 'heart_eyes', 'laughing', 'stuck_out_tongue_winking_eye', 'sweat_smile', 'joy', 'scream', 'disappointed', 'unamused', 'weary', 'sob', 'sunglasses', 'heart', 'poop'];\nvar frequently, initialized;\nvar defaults = {};\n\nfunction init() {\n  initialized = true;\n  frequently = store.get('frequently');\n}\n\nfunction add(emoji) {\n  if (!initialized) init();\n  var id = emoji.id;\n  frequently || (frequently = defaults);\n  frequently[id] || (frequently[id] = 0);\n  frequently[id] += 1;\n  store.set('last', id);\n  store.set('frequently', frequently);\n}\n\nfunction get(perLine) {\n  if (!initialized) init();\n\n  if (!frequently) {\n    defaults = {};\n    var result = [];\n\n    for (var i = 0; i < perLine; i++) {\n      defaults[DEFAULTS[i]] = perLine - i;\n      result.push(DEFAULTS[i]);\n    }\n\n    return result;\n  }\n\n  var quantity = perLine * 4;\n  var frequentlyKeys = [];\n\n  for (var key in frequently) {\n    if (frequently.hasOwnProperty(key)) {\n      frequentlyKeys.push(key);\n    }\n  }\n\n  var sorted = frequentlyKeys.sort(function (a, b) {\n    return frequently[a] - frequently[b];\n  }).reverse();\n  var sliced = sorted.slice(0, quantity);\n  var last = store.get('last');\n\n  if (last && sliced.indexOf(last) == -1) {\n    sliced.pop();\n    sliced.push(last);\n  }\n\n  return sliced;\n}\n\nexport default {\n  add: add,\n  get: get\n};", "export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}", "export default function _extends() {\n  _extends = Object.assign ? Object.assign.bind() : function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n  return _extends.apply(this, arguments);\n}", "export default function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}", "import _typeof from \"./typeof.js\";\nimport assertThisInitialized from \"./assertThisInitialized.js\";\nexport default function _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  } else if (call !== void 0) {\n    throw new TypeError(\"Derived constructors may only return object or undefined\");\n  }\n\n  return assertThisInitialized(self);\n}", "export default function _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}", "export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n  return _setPrototypeOf(o, p);\n}", "import setPrototypeOf from \"./setPrototypeOf.js\";\nexport default function _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  Object.defineProperty(subClass, \"prototype\", {\n    writable: false\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}", "import React from 'react';\nvar categories = {\n  activity: function activity() {\n    return React.createElement(\"svg\", {\n      xmlns: \"http://www.w3.org/2000/svg\",\n      viewBox: \"0 0 24 24\",\n      width: \"24\",\n      height: \"24\"\n    }, React.createElement(\"path\", {\n      d: \"M12 0C5.373 0 0 5.372 0 12c0 6.627 5.373 12 12 12 6.628 0 12-5.373 12-12 0-6.628-5.372-12-12-12m9.949 11H17.05c.224-2.527 1.232-4.773 1.968-6.113A9.966 9.966 0 0 1 21.949 11M13 11V2.051a9.945 9.945 0 0 1 4.432 1.564c-.858 1.491-2.156 4.22-2.392 7.385H13zm-2 0H8.961c-.238-3.165-1.536-5.894-2.393-7.385A9.95 9.95 0 0 1 11 2.051V11zm0 2v8.949a9.937 9.937 0 0 1-4.432-1.564c.857-1.492 2.155-4.221 2.393-7.385H11zm4.04 0c.236 3.164 1.534 5.893 2.392 7.385A9.92 9.92 0 0 1 13 21.949V13h2.04zM4.982 4.887C5.718 6.227 6.726 8.473 6.951 11h-4.9a9.977 9.977 0 0 1 2.931-6.113M2.051 13h4.9c-.226 2.527-1.233 4.771-1.969 6.113A9.972 9.972 0 0 1 2.051 13m16.967 6.113c-.735-1.342-1.744-3.586-1.968-6.113h4.899a9.961 9.961 0 0 1-2.931 6.113\"\n    }));\n  },\n  custom: function custom() {\n    return React.createElement(\"svg\", {\n      xmlns: \"http://www.w3.org/2000/svg\",\n      viewBox: \"0 0 24 24\",\n      width: \"24\",\n      height: \"24\"\n    }, React.createElement(\"g\", {\n      transform: \"translate(2.000000, 1.000000)\"\n    }, React.createElement(\"rect\", {\n      id: \"Rectangle\",\n      x: \"8\",\n      y: \"0\",\n      width: \"3\",\n      height: \"21\",\n      rx: \"1.5\"\n    }), React.createElement(\"rect\", {\n      id: \"Rectangle\",\n      transform: \"translate(9.843, 10.549) rotate(60) translate(-9.843, -10.549) \",\n      x: \"8.343\",\n      y: \"0.049\",\n      width: \"3\",\n      height: \"21\",\n      rx: \"1.5\"\n    }), React.createElement(\"rect\", {\n      id: \"Rectangle\",\n      transform: \"translate(9.843, 10.549) rotate(-60) translate(-9.843, -10.549) \",\n      x: \"8.343\",\n      y: \"0.049\",\n      width: \"3\",\n      height: \"21\",\n      rx: \"1.5\"\n    })));\n  },\n  flags: function flags() {\n    return React.createElement(\"svg\", {\n      xmlns: \"http://www.w3.org/2000/svg\",\n      viewBox: \"0 0 24 24\",\n      width: \"24\",\n      height: \"24\"\n    }, React.createElement(\"path\", {\n      d: \"M0 0l6.084 24H8L1.916 0zM21 5h-4l-1-4H4l3 12h3l1 4h13L21 5zM6.563 3h7.875l2 8H8.563l-2-8zm8.832 10l-2.856 1.904L12.063 13h3.332zM19 13l-1.5-6h1.938l2 8H16l3-2z\"\n    }));\n  },\n  foods: function foods() {\n    return React.createElement(\"svg\", {\n      xmlns: \"http://www.w3.org/2000/svg\",\n      viewBox: \"0 0 24 24\",\n      width: \"24\",\n      height: \"24\"\n    }, React.createElement(\"path\", {\n      d: \"M17 4.978c-1.838 0-2.876.396-3.68.934.513-1.172 1.768-2.934 4.68-2.934a1 1 0 0 0 0-2c-2.921 0-4.629 1.365-5.547 2.512-.064.078-.119.162-.18.244C11.73 1.838 10.798.023 9.207.023 8.579.022 7.85.306 7 .978 5.027 2.54 5.329 3.902 6.492 4.999 3.609 5.222 0 7.352 0 12.969c0 4.582 4.961 11.009 9 11.009 1.975 0 2.371-.486 3-1 .629.514 1.025 1 3 1 4.039 0 9-6.418 9-11 0-5.953-4.055-8-7-8M8.242 2.546c.641-.508.943-.523.965-.523.426.169.975 1.405 1.357 3.055-1.527-.629-2.741-1.352-2.98-1.846.059-.112.241-.356.658-.686M15 21.978c-1.08 0-1.21-.109-1.559-.402l-.176-.146c-.367-.302-.816-.452-1.266-.452s-.898.15-1.266.452l-.176.146c-.347.292-.477.402-1.557.402-2.813 0-7-5.389-7-9.009 0-5.823 4.488-5.991 5-5.991 1.939 0 2.484.471 3.387 1.251l.323.276a1.995 1.995 0 0 0 2.58 0l.323-.276c.902-.78 1.447-1.251 3.387-1.251.512 0 5 .168 5 6 0 3.617-4.187 9-7 9\"\n    }));\n  },\n  nature: function nature() {\n    return React.createElement(\"svg\", {\n      xmlns: \"http://www.w3.org/2000/svg\",\n      viewBox: \"0 0 24 24\",\n      width: \"24\",\n      height: \"24\"\n    }, React.createElement(\"path\", {\n      d: \"M15.5 8a1.5 1.5 0 1 0 .001 3.001A1.5 1.5 0 0 0 15.5 8M8.5 8a1.5 1.5 0 1 0 .001 3.001A1.5 1.5 0 0 0 8.5 8\"\n    }), React.createElement(\"path\", {\n      d: \"M18.933 0h-.027c-.97 0-2.138.787-3.018 1.497-1.274-.374-2.612-.51-3.887-.51-1.285 0-2.616.133-3.874.517C7.245.79 6.069 0 5.093 0h-.027C3.352 0 .07 2.67.002 7.026c-.039 2.479.276 4.238 1.04 5.013.254.258.882.677 1.295.882.191 3.177.922 5.238 2.536 6.38.897.637 2.187.949 3.2 1.102C8.04 20.6 8 20.795 8 21c0 1.773 2.35 3 4 3 1.648 0 4-1.227 4-3 0-.201-.038-.393-.072-.586 2.573-.385 5.435-1.877 5.925-7.587.396-.22.887-.568 1.104-.788.763-.774 1.079-2.534 1.04-5.013C23.929 2.67 20.646 0 18.933 0M3.223 9.135c-.237.281-.837 1.155-.884 1.238-.15-.41-.368-1.349-.337-3.291.051-3.281 2.478-4.972 3.091-5.031.256.015.731.27 1.265.646-1.11 1.171-2.275 2.915-2.352 5.125-.133.546-.398.858-.783 1.313M12 22c-.901 0-1.954-.693-2-1 0-.654.475-1.236 1-1.602V20a1 1 0 1 0 2 0v-.602c.524.365 1 .947 1 1.602-.046.307-1.099 1-2 1m3-3.48v.02a4.752 4.752 0 0 0-1.262-1.02c1.092-.516 2.239-1.334 2.239-2.217 0-1.842-1.781-2.195-3.977-2.195-2.196 0-3.978.354-3.978 2.195 0 .883 1.148 1.701 2.238 2.217A4.8 4.8 0 0 0 9 18.539v-.025c-1-.076-2.182-.281-2.973-.842-1.301-.92-1.838-3.045-1.853-6.478l.023-.041c.496-.826 1.49-1.45 1.804-3.102 0-2.047 1.357-3.631 2.362-4.522C9.37 3.178 10.555 3 11.948 3c1.447 0 2.685.192 3.733.57 1 .9 2.316 2.465 2.316 4.48.313 1.651 1.307 2.275 1.803 3.102.035.058.068.117.102.178-.059 5.967-1.949 7.01-4.902 7.19m6.628-8.202c-.037-.065-.074-.13-.113-.195a7.587 7.587 0 0 0-.739-.987c-.385-.455-.648-.768-.782-1.313-.076-2.209-1.241-3.954-2.353-5.124.531-.376 1.004-.63 1.261-.647.636.071 3.044 1.764 3.096 5.031.027 1.81-.347 3.218-.37 3.235\"\n    }));\n  },\n  objects: function objects() {\n    return React.createElement(\"svg\", {\n      xmlns: \"http://www.w3.org/2000/svg\",\n      viewBox: \"0 0 24 24\",\n      width: \"24\",\n      height: \"24\"\n    }, React.createElement(\"path\", {\n      d: \"M12 0a9 9 0 0 0-5 16.482V21s2.035 3 5 3 5-3 5-3v-4.518A9 9 0 0 0 12 0zm0 2c3.86 0 7 3.141 7 7s-3.14 7-7 7-7-3.141-7-7 3.14-7 7-7zM9 17.477c.94.332 1.946.523 3 .523s2.06-.19 3-.523v.834c-.91.436-1.925.689-3 .689a6.924 6.924 0 0 1-3-.69v-.833zm.236 3.07A8.854 8.854 0 0 0 12 21c.965 0 1.888-.167 2.758-.451C14.155 21.173 13.153 22 12 22c-1.102 0-2.117-.789-2.764-1.453z\"\n    }), React.createElement(\"path\", {\n      d: \"M14.745 12.449h-.004c-.852-.024-1.188-.858-1.577-1.824-.421-1.061-.703-1.561-1.182-1.566h-.009c-.481 0-.783.497-1.235 1.537-.436.982-.801 1.811-1.636 1.791l-.276-.043c-.565-.171-.853-.691-1.284-1.794-.125-.313-.202-.632-.27-.913-.051-.213-.127-.53-.195-.634C7.067 9.004 7.039 9 6.99 9A1 1 0 0 1 7 7h.01c1.662.017 2.015 1.373 2.198 2.134.486-.981 1.304-2.058 2.797-2.075 1.531.018 2.28 1.153 2.731 2.141l.002-.008C14.944 8.424 15.327 7 16.979 7h.032A1 1 0 1 1 17 9h-.011c-.149.076-.256.474-.319.709a6.484 6.484 0 0 1-.311.951c-.429.973-.79 1.789-1.614 1.789\"\n    }));\n  },\n  people: function people() {\n    return React.createElement(\"svg\", {\n      xmlns: \"http://www.w3.org/2000/svg\",\n      viewBox: \"0 0 24 24\",\n      width: \"24\",\n      height: \"24\"\n    }, React.createElement(\"path\", {\n      d: \"M12 0C5.373 0 0 5.373 0 12s5.373 12 12 12 12-5.373 12-12S18.627 0 12 0m0 22C6.486 22 2 17.514 2 12S6.486 2 12 2s10 4.486 10 10-4.486 10-10 10\"\n    }), React.createElement(\"path\", {\n      d: \"M8 7a2 2 0 1 0-.001 3.999A2 2 0 0 0 8 7M16 7a2 2 0 1 0-.001 3.999A2 2 0 0 0 16 7M15.232 15c-.693 1.195-1.87 2-3.349 2-1.477 0-2.655-.805-3.347-2H15m3-2H6a6 6 0 1 0 12 0\"\n    }));\n  },\n  places: function places() {\n    return React.createElement(\"svg\", {\n      xmlns: \"http://www.w3.org/2000/svg\",\n      viewBox: \"0 0 24 24\",\n      width: \"24\",\n      height: \"24\"\n    }, React.createElement(\"path\", {\n      d: \"M6.5 12C5.122 12 4 13.121 4 14.5S5.122 17 6.5 17 9 15.879 9 14.5 7.878 12 6.5 12m0 3c-.275 0-.5-.225-.5-.5s.225-.5.5-.5.5.225.5.5-.225.5-.5.5M17.5 12c-1.378 0-2.5 1.121-2.5 2.5s1.122 2.5 2.5 2.5 2.5-1.121 2.5-2.5-1.122-2.5-2.5-2.5m0 3c-.275 0-.5-.225-.5-.5s.225-.5.5-.5.5.225.5.5-.225.5-.5.5\"\n    }), React.createElement(\"path\", {\n      d: \"M22.482 9.494l-1.039-.346L21.4 9h.6c.552 0 1-.439 1-.992 0-.006-.003-.008-.003-.008H23c0-1-.889-2-1.984-2h-.642l-.731-1.717C19.262 3.012 18.091 2 16.764 2H7.236C5.909 2 4.738 3.012 4.357 4.283L3.626 6h-.642C1.889 6 1 7 1 8h.003S1 8.002 1 8.008C1 8.561 1.448 9 2 9h.6l-.043.148-1.039.346a2.001 2.001 0 0 0-1.359 2.097l.751 7.508a1 1 0 0 0 .994.901H3v1c0 1.103.896 2 2 2h2c1.104 0 2-.897 2-2v-1h6v1c0 1.103.896 2 2 2h2c1.104 0 2-.897 2-2v-1h1.096a.999.999 0 0 0 .994-.901l.751-7.508a2.001 2.001 0 0 0-1.359-2.097M6.273 4.857C6.402 4.43 6.788 4 7.236 4h9.527c.448 0 .834.43.963.857L19.313 9H4.688l1.585-4.143zM7 21H5v-1h2v1zm12 0h-2v-1h2v1zm2.189-3H2.811l-.662-6.607L3 11h18l.852.393L21.189 18z\"\n    }));\n  },\n  recent: function recent() {\n    return React.createElement(\"svg\", {\n      xmlns: \"http://www.w3.org/2000/svg\",\n      viewBox: \"0 0 24 24\",\n      width: \"24\",\n      height: \"24\"\n    }, React.createElement(\"path\", {\n      d: \"M13 4h-2l-.001 7H9v2h2v2h2v-2h4v-2h-4z\"\n    }), React.createElement(\"path\", {\n      d: \"M12 0C5.373 0 0 5.373 0 12s5.373 12 12 12 12-5.373 12-12S18.627 0 12 0m0 22C6.486 22 2 17.514 2 12S6.486 2 12 2s10 4.486 10 10-4.486 10-10 10\"\n    }));\n  },\n  symbols: function symbols() {\n    return React.createElement(\"svg\", {\n      xmlns: \"http://www.w3.org/2000/svg\",\n      viewBox: \"0 0 24 24\",\n      width: \"24\",\n      height: \"24\"\n    }, React.createElement(\"path\", {\n      d: \"M0 0h11v2H0zM4 11h3V6h4V4H0v2h4zM15.5 17c1.381 0 2.5-1.116 2.5-2.493s-1.119-2.493-2.5-2.493S13 13.13 13 14.507 14.119 17 15.5 17m0-2.986c.276 0 .5.222.5.493 0 .272-.224.493-.5.493s-.5-.221-.5-.493.224-.493.5-.493M21.5 19.014c-1.381 0-2.5 1.116-2.5 2.493S20.119 24 21.5 24s2.5-1.116 2.5-2.493-1.119-2.493-2.5-2.493m0 2.986a.497.497 0 0 1-.5-.493c0-.271.224-.493.5-.493s.5.222.5.493a.497.497 0 0 1-.5.493M22 13l-9 9 1.513 1.5 8.99-9.009zM17 11c2.209 0 4-1.119 4-2.5V2s.985-.161 1.498.949C23.01 4.055 23 6 23 6s1-1.119 1-3.135C24-.02 21 0 21 0h-2v6.347A5.853 5.853 0 0 0 17 6c-2.209 0-4 1.119-4 2.5s1.791 2.5 4 2.5M10.297 20.482l-1.475-1.585a47.54 47.54 0 0 1-1.442 1.129c-.307-.288-.989-1.016-2.045-2.183.902-.836 1.479-1.466 1.729-1.892s.376-.871.376-1.336c0-.592-.273-1.178-.818-1.759-.546-.581-1.329-.871-2.349-.871-1.008 0-1.79.293-2.344.879-.556.587-.832 1.181-.832 1.784 0 .813.419 1.748 1.256 2.805-.847.614-1.444 1.208-1.794 1.784a3.465 3.465 0 0 0-.523 1.833c0 .857.308 1.56.924 2.107.616.549 1.423.823 2.42.823 1.173 0 2.444-.379 3.813-1.137L8.235 24h2.819l-2.09-2.383 1.333-1.135zm-6.736-6.389a1.02 1.02 0 0 1 .73-.286c.31 0 .559.085.747.254a.849.849 0 0 1 .283.659c0 .518-.419 1.112-1.257 1.784-.536-.651-.805-1.231-.805-1.742a.901.901 0 0 1 .302-.669M3.74 22c-.427 0-.778-.116-1.057-.349-.279-.232-.418-.487-.418-.766 0-.594.509-1.288 1.527-2.083.968 1.134 1.717 1.946 2.248 2.438-.921.507-1.686.76-2.3.76\"\n    }));\n  }\n};\nvar search = {\n  search: function search() {\n    return React.createElement(\"svg\", {\n      xmlns: \"http://www.w3.org/2000/svg\",\n      width: \"13\",\n      height: \"13\",\n      viewBox: \"0 0 20 20\",\n      opacity: \"0.5\"\n    }, React.createElement(\"path\", {\n      d: \"M12.9 14.32a8 8 0 1 1 1.41-1.41l5.35 5.33-1.42 1.42-5.33-5.34zM8 14A6 6 0 1 0 8 2a6 6 0 0 0 0 12z\"\n    }));\n  },\n  \"delete\": function _delete() {\n    return React.createElement(\"svg\", {\n      xmlns: \"http://www.w3.org/2000/svg\",\n      width: \"13\",\n      height: \"13\",\n      viewBox: \"0 0 20 20\",\n      opacity: \"0.5\"\n    }, React.createElement(\"path\", {\n      d: \"M10 8.586L2.929 1.515 1.515 2.929 8.586 10l-7.071 7.071 1.414 1.414L10 11.414l7.071 7.071 1.414-1.414L11.414 10l7.071-7.071-1.414-1.414L10 8.586z\"\n    }));\n  }\n};\nexport { categories, search };", "import PropTypes from 'prop-types';\nvar EmojiPropTypes = {\n  data: PropTypes.object.isRequired,\n  onOver: PropTypes.func,\n  onLeave: PropTypes.func,\n  onClick: PropTypes.func,\n  fallback: PropTypes.func,\n  backgroundImageFn: PropTypes.func,\n  \"native\": PropTypes.bool,\n  forceSize: PropTypes.bool,\n  tooltip: PropTypes.bool,\n  useButton: PropTypes.bool,\n  skin: PropTypes.oneOf([1, 2, 3, 4, 5, 6]),\n  sheetSize: PropTypes.oneOf([16, 20, 32, 64]),\n  sheetColumns: PropTypes.number,\n  sheetRows: PropTypes.number,\n  set: PropTypes.oneOf(['apple', 'google', 'twitter', 'facebook']),\n  size: PropTypes.number.isRequired,\n  emoji: PropTypes.oneOfType([PropTypes.string, PropTypes.object]).isRequired\n};\nvar PickerPropTypes = {\n  onClick: PropTypes.func,\n  onSelect: PropTypes.func,\n  onSkinChange: PropTypes.func,\n  perLine: PropTypes.number,\n  emojiSize: PropTypes.number,\n  i18n: PropTypes.object,\n  style: PropTypes.object,\n  title: PropTypes.string,\n  emoji: PropTypes.string,\n  color: PropTypes.string,\n  set: EmojiPropTypes.set,\n  skin: EmojiPropTypes.skin,\n  \"native\": PropTypes.bool,\n  backgroundImageFn: EmojiPropTypes.backgroundImageFn,\n  sheetSize: EmojiPropTypes.sheetSize,\n  emojisToShowFilter: PropTypes.func,\n  showPreview: PropTypes.bool,\n  showSkinTones: PropTypes.bool,\n  emojiTooltip: EmojiPropTypes.tooltip,\n  useButton: EmojiPropTypes.useButton,\n  theme: PropTypes.oneOf(['auto', 'light', 'dark']),\n  include: PropTypes.arrayOf(PropTypes.string),\n  exclude: PropTypes.arrayOf(PropTypes.string),\n  recent: PropTypes.arrayOf(PropTypes.string),\n  autoFocus: PropTypes.bool,\n  enableFrequentEmojiSort: PropTypes.bool,\n  custom: PropTypes.arrayOf(PropTypes.shape({\n    name: PropTypes.string.isRequired,\n    short_names: PropTypes.arrayOf(PropTypes.string).isRequired,\n    emoticons: PropTypes.arrayOf(PropTypes.string),\n    keywords: PropTypes.arrayOf(PropTypes.string),\n    imageUrl: PropTypes.string,\n    spriteUrl: PropTypes.string,\n    sheet_x: PropTypes.number,\n    sheet_y: PropTypes.number,\n    size: PropTypes.number,\n    sheetColumns: PropTypes.number,\n    sheetRows: PropTypes.number\n  })),\n  skinEmoji: PropTypes.string,\n  notFound: PropTypes.func,\n  notFoundEmoji: PropTypes.string,\n  icons: PropTypes.object\n};\nexport { EmojiPropTypes, PickerPropTypes };", "import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nvar Anchors =\n/*#__PURE__*/\nfunction (_React$PureComponent) {\n  _inherits(Anchors, _React$PureComponent);\n\n  function Anchors(props) {\n    var _this;\n\n    _classCallCheck(this, Anchors);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Anchors).call(this, props));\n    var defaultCategory = props.categories.filter(function (category) {\n      return category.first;\n    })[0];\n    _this.state = {\n      selected: defaultCategory.name\n    };\n    _this.handleClick = _this.handleClick.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(Anchors, [{\n    key: \"handleClick\",\n    value: function handleClick(e) {\n      var index = e.currentTarget.getAttribute('data-index');\n      var _this$props = this.props,\n          categories = _this$props.categories,\n          onAnchorClick = _this$props.onAnchorClick;\n      onAnchorClick(categories[index], index);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props2 = this.props,\n          categories = _this$props2.categories,\n          color = _this$props2.color,\n          i18n = _this$props2.i18n,\n          icons = _this$props2.icons,\n          selected = this.state.selected;\n      return React.createElement(\"nav\", {\n        className: \"emoji-mart-anchors\",\n        \"aria-label\": i18n.categorieslabel\n      }, categories.map(function (category, i) {\n        var id = category.id,\n            name = category.name,\n            anchor = category.anchor,\n            isSelected = name == selected;\n\n        if (anchor === false) {\n          return null;\n        }\n\n        var iconId = id.startsWith('custom-') ? 'custom' : id;\n        return React.createElement(\"button\", {\n          key: id,\n          \"aria-label\": i18n.categories[iconId],\n          title: i18n.categories[iconId],\n          \"data-index\": i,\n          type: 'button',\n          onClick: _this2.handleClick,\n          className: \"emoji-mart-anchor \".concat(isSelected ? 'emoji-mart-anchor-selected' : ''),\n          style: {\n            color: isSelected ? color : null\n          }\n        }, React.createElement(\"div\", {\n          className: \"emoji-mart-anchor-icon\"\n        }, icons.categories[iconId]()), React.createElement(\"span\", {\n          className: \"emoji-mart-anchor-bar\",\n          style: {\n            backgroundColor: color\n          }\n        }));\n      }));\n    }\n  }]);\n\n  return Anchors;\n}(React.PureComponent);\n\nexport { Anchors as default };\nAnchors.propTypes\n/* remove-proptypes */\n= {\n  categories: PropTypes.array,\n  onAnchorClick: PropTypes.func,\n  icons: PropTypes.object\n};\nAnchors.defaultProps = {\n  categories: [],\n  onAnchorClick: function onAnchorClick() {},\n  icons: {}\n};", "var EmojiDefaultProps = {\n  skin: 1,\n  set: 'apple',\n  sheetSize: 64,\n  sheetColumns: 57,\n  sheetRows: 57,\n  \"native\": false,\n  forceSize: false,\n  tooltip: false,\n  useButton: true,\n  backgroundImageFn: function backgroundImageFn(set, sheetSize) {\n    return \"https://unpkg.com/emoji-datasource-\".concat(set, \"@\").concat(\"5.0.1\", \"/img/\").concat(set, \"/sheets-256/\").concat(sheetSize, \".png\");\n  }\n};\nvar PickerDefaultProps = {\n  onClick: function onClick() {},\n  onSelect: function onSelect() {},\n  onSkinChange: function onSkinChange() {},\n  emojiSize: 24,\n  perLine: 9,\n  i18n: {},\n  style: {},\n  title: 'Emoji Mart™',\n  emoji: 'department_store',\n  color: '#ae65c5',\n  set: EmojiDefaultProps.set,\n  theme: 'light',\n  skin: null,\n  defaultSkin: EmojiDefaultProps.skin,\n  \"native\": EmojiDefaultProps[\"native\"],\n  sheetSize: EmojiDefaultProps.sheetSize,\n  backgroundImageFn: EmojiDefaultProps.backgroundImageFn,\n  emojisToShowFilter: null,\n  showPreview: true,\n  showSkinTones: true,\n  emojiTooltip: EmojiDefaultProps.tooltip,\n  useButton: EmojiDefaultProps.useButton,\n  autoFocus: false,\n  enableFrequentEmojiSort: false,\n  custom: [],\n  skinEmoji: '',\n  notFound: function notFound() {},\n  notFoundEmoji: 'sleuth_or_spy',\n  icons: {}\n};\nexport { PickerDefaultProps, EmojiDefaultProps };", "import _extends from \"@babel/runtime/helpers/extends\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { getData, getSanitizedData, unifiedToNative } from '../../utils';\nimport { uncompress } from '../../utils/data';\nimport { EmojiPropTypes } from '../../utils/shared-props';\nimport { EmojiDefaultProps } from '../../utils/shared-default-props';\n\nvar _getData = function _getData(props) {\n  var emoji = props.emoji,\n      skin = props.skin,\n      set = props.set,\n      data = props.data;\n  return getData(emoji, skin, set, data);\n};\n\nvar _getPosition = function _getPosition(props) {\n  var _getData2 = _getData(props),\n      sheet_x = _getData2.sheet_x,\n      sheet_y = _getData2.sheet_y,\n      multiplyX = 100 / (props.sheetColumns - 1),\n      multiplyY = 100 / (props.sheetRows - 1);\n\n  return \"\".concat(multiplyX * sheet_x, \"% \").concat(multiplyY * sheet_y, \"%\");\n};\n\nvar _getSanitizedData = function _getSanitizedData(props) {\n  var emoji = props.emoji,\n      skin = props.skin,\n      set = props.set,\n      data = props.data;\n  return getSanitizedData(emoji, skin, set, data);\n};\n\nvar _handleClick = function _handleClick(e, props) {\n  if (!props.onClick) {\n    return;\n  }\n\n  var onClick = props.onClick,\n      emoji = _getSanitizedData(props);\n\n  onClick(emoji, e);\n};\n\nvar _handleOver = function _handleOver(e, props) {\n  if (!props.onOver) {\n    return;\n  }\n\n  var onOver = props.onOver,\n      emoji = _getSanitizedData(props);\n\n  onOver(emoji, e);\n};\n\nvar _handleLeave = function _handleLeave(e, props) {\n  if (!props.onLeave) {\n    return;\n  }\n\n  var onLeave = props.onLeave,\n      emoji = _getSanitizedData(props);\n\n  onLeave(emoji, e);\n};\n\nvar _isNumeric = function _isNumeric(value) {\n  return !isNaN(value - parseFloat(value));\n};\n\nvar _convertStyleToCSS = function _convertStyleToCSS(style) {\n  var div = document.createElement('div');\n\n  for (var key in style) {\n    var value = style[key];\n\n    if (_isNumeric(value)) {\n      value += 'px';\n    }\n\n    div.style[key] = value;\n  }\n\n  return div.getAttribute('style');\n};\n\nvar NimbleEmoji = function NimbleEmoji(props) {\n  if (props.data.compressed) {\n    uncompress(props.data);\n  }\n\n  for (var k in NimbleEmoji.defaultProps) {\n    if (props[k] == undefined && NimbleEmoji.defaultProps[k] != undefined) {\n      props[k] = NimbleEmoji.defaultProps[k];\n    }\n  }\n\n  var data = _getData(props);\n\n  if (!data) {\n    if (props.fallback) {\n      return props.fallback(null, props);\n    } else {\n      return null;\n    }\n  }\n\n  var unified = data.unified,\n      custom = data.custom,\n      short_names = data.short_names,\n      imageUrl = data.imageUrl,\n      style = {},\n      children = props.children,\n      className = 'emoji-mart-emoji',\n      nativeEmoji = unified && unifiedToNative(unified),\n      label = [nativeEmoji].concat(short_names).filter(Boolean).join(', '),\n      title = null;\n\n  if (!unified && !custom) {\n    if (props.fallback) {\n      return props.fallback(data, props);\n    } else {\n      return null;\n    }\n  }\n\n  if (props.tooltip) {\n    title = short_names[0];\n  }\n\n  if (props[\"native\"] && unified) {\n    className += ' emoji-mart-emoji-native';\n    style = {\n      fontSize: props.size\n    };\n    children = nativeEmoji;\n\n    if (props.forceSize) {\n      style.display = 'inline-block';\n      style.width = props.size;\n      style.height = props.size;\n      style.wordBreak = 'keep-all';\n    }\n  } else if (custom) {\n    className += ' emoji-mart-emoji-custom';\n    style = {\n      width: props.size,\n      height: props.size,\n      display: 'inline-block'\n    };\n\n    if (data.spriteUrl) {\n      style = _objectSpread({}, style, {\n        backgroundImage: \"url(\".concat(data.spriteUrl, \")\"),\n        backgroundSize: \"\".concat(100 * props.sheetColumns, \"% \").concat(100 * props.sheetRows, \"%\"),\n        backgroundPosition: _getPosition(props)\n      });\n    } else {\n      style = _objectSpread({}, style, {\n        backgroundImage: \"url(\".concat(imageUrl, \")\"),\n        backgroundSize: 'contain',\n        backgroundRepeat: 'no-repeat',\n        backgroundPosition: 'center'\n      });\n    }\n  } else {\n    var setHasEmoji = data[\"has_img_\".concat(props.set)] == undefined || data[\"has_img_\".concat(props.set)];\n\n    if (!setHasEmoji) {\n      if (props.fallback) {\n        return props.fallback(data, props);\n      } else {\n        return null;\n      }\n    } else {\n      style = {\n        width: props.size,\n        height: props.size,\n        display: 'inline-block',\n        backgroundImage: \"url(\".concat(props.backgroundImageFn(props.set, props.sheetSize), \")\"),\n        backgroundSize: \"\".concat(100 * props.sheetColumns, \"% \").concat(100 * props.sheetRows, \"%\"),\n        backgroundPosition: _getPosition(props)\n      };\n    }\n  }\n\n  var Tag = {\n    name: 'span',\n    props: {}\n  };\n\n  if (props.onClick && props.useButton) {\n    Tag.name = 'button';\n    Tag.props = {\n      type: 'button'\n    };\n  }\n\n  if (props.html) {\n    style = _convertStyleToCSS(style);\n    return \"<\".concat(Tag.name, \" style='\").concat(style, \"' aria-label='\").concat(label, \"' \").concat(title ? \"title='\".concat(title, \"'\") : '', \" class='\").concat(className, \"'>\").concat(children || '', \"</\").concat(Tag.name, \">\");\n  } else {\n    return React.createElement(Tag.name, _extends({\n      onClick: function onClick(e) {\n        return _handleClick(e, props);\n      },\n      onMouseEnter: function onMouseEnter(e) {\n        return _handleOver(e, props);\n      },\n      onMouseLeave: function onMouseLeave(e) {\n        return _handleLeave(e, props);\n      },\n      \"aria-label\": label,\n      title: title,\n      className: className\n    }, Tag.props), React.createElement(\"span\", {\n      style: style\n    }, children));\n  }\n};\n\nNimbleEmoji.propTypes\n/* remove-proptypes */\n= _objectSpread({}, EmojiPropTypes, {\n  data: PropTypes.object.isRequired\n});\nNimbleEmoji.defaultProps = EmojiDefaultProps;\nexport default NimbleEmoji;", "import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport NimbleEmoji from './emoji/nimble-emoji';\n\nvar NotFound =\n/*#__PURE__*/\nfunction (_React$PureComponent) {\n  _inherits(NotFound, _React$PureComponent);\n\n  function NotFound() {\n    _classCallCheck(this, NotFound);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(NotFound).apply(this, arguments));\n  }\n\n  _createClass(NotFound, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          data = _this$props.data,\n          emojiProps = _this$props.emojiProps,\n          i18n = _this$props.i18n,\n          notFound = _this$props.notFound,\n          notFoundEmoji = _this$props.notFoundEmoji;\n      var component = notFound && notFound() || React.createElement(\"div\", {\n        className: \"emoji-mart-no-results\"\n      }, NimbleEmoji(_objectSpread({\n        data: data\n      }, emojiProps, {\n        size: 38,\n        emoji: notFoundEmoji,\n        onOver: null,\n        onLeave: null,\n        onClick: null\n      })), React.createElement(\"div\", {\n        className: \"emoji-mart-no-results-label\"\n      }, i18n.notfound));\n      return component;\n    }\n  }]);\n\n  return NotFound;\n}(React.PureComponent);\n\nexport { NotFound as default };\nNotFound.propTypes\n/* remove-proptypes */\n= {\n  notFound: PropTypes.func.isRequired,\n  emojiProps: PropTypes.object.isRequired\n};", "import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport frequently from '../utils/frequently';\nimport { getData } from '../utils';\nimport NimbleEmoji from './emoji/nimble-emoji';\nimport NotFound from './not-found';\n\nvar Category =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Category, _React$Component);\n\n  function Category(props) {\n    var _this;\n\n    _classCallCheck(this, Category);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Category).call(this, props));\n    _this.data = props.data;\n    _this.setContainerRef = _this.setContainerRef.bind(_assertThisInitialized(_this));\n    _this.setLabelRef = _this.setLabelRef.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(Category, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.margin = 0;\n      this.minMargin = 0;\n      this.memoizeSize();\n    }\n  }, {\n    key: \"shouldComponentUpdate\",\n    value: function shouldComponentUpdate(nextProps, nextState) {\n      var _this$props = this.props,\n          name = _this$props.name,\n          perLine = _this$props.perLine,\n          _native = _this$props[\"native\"],\n          hasStickyPosition = _this$props.hasStickyPosition,\n          emojis = _this$props.emojis,\n          emojiProps = _this$props.emojiProps,\n          skin = emojiProps.skin,\n          size = emojiProps.size,\n          set = emojiProps.set,\n          nextPerLine = nextProps.perLine,\n          nextNative = nextProps[\"native\"],\n          nextHasStickyPosition = nextProps.hasStickyPosition,\n          nextEmojis = nextProps.emojis,\n          nextEmojiProps = nextProps.emojiProps,\n          nextSkin = nextEmojiProps.skin,\n          nextSize = nextEmojiProps.size,\n          nextSet = nextEmojiProps.set,\n          shouldUpdate = false;\n\n      if (name == 'Recent' && perLine != nextPerLine) {\n        shouldUpdate = true;\n      }\n\n      if (name == 'Search') {\n        shouldUpdate = !(emojis == nextEmojis);\n      }\n\n      if (skin != nextSkin || size != nextSize || _native != nextNative || set != nextSet || hasStickyPosition != nextHasStickyPosition) {\n        shouldUpdate = true;\n      }\n\n      return shouldUpdate;\n    }\n  }, {\n    key: \"memoizeSize\",\n    value: function memoizeSize() {\n      if (!this.container) {\n        // probably this is a test environment, e.g. jest\n        this.top = 0;\n        this.maxMargin = 0;\n        return;\n      }\n\n      var parent = this.container.parentElement;\n\n      var _this$container$getBo = this.container.getBoundingClientRect(),\n          top = _this$container$getBo.top,\n          height = _this$container$getBo.height;\n\n      var _parent$getBoundingCl = parent.getBoundingClientRect(),\n          parentTop = _parent$getBoundingCl.top;\n\n      var _this$label$getBoundi = this.label.getBoundingClientRect(),\n          labelHeight = _this$label$getBoundi.height;\n\n      this.top = top - parentTop + parent.scrollTop;\n\n      if (height == 0) {\n        this.maxMargin = 0;\n      } else {\n        this.maxMargin = height - labelHeight;\n      }\n    }\n  }, {\n    key: \"handleScroll\",\n    value: function handleScroll(scrollTop) {\n      var margin = scrollTop - this.top;\n      margin = margin < this.minMargin ? this.minMargin : margin;\n      margin = margin > this.maxMargin ? this.maxMargin : margin;\n      if (margin == this.margin) return;\n\n      if (!this.props.hasStickyPosition) {\n        this.label.style.top = \"\".concat(margin, \"px\");\n      }\n\n      this.margin = margin;\n      return true;\n    }\n  }, {\n    key: \"getEmojis\",\n    value: function getEmojis() {\n      var _this2 = this;\n\n      var _this$props2 = this.props,\n          name = _this$props2.name,\n          emojis = _this$props2.emojis,\n          recent = _this$props2.recent,\n          perLine = _this$props2.perLine;\n\n      if (name == 'Recent') {\n        var custom = this.props.custom;\n        var frequentlyUsed = recent || frequently.get(perLine);\n\n        if (frequentlyUsed.length) {\n          emojis = frequentlyUsed.map(function (id) {\n            var emoji = custom.filter(function (e) {\n              return e.id === id;\n            })[0];\n\n            if (emoji) {\n              return emoji;\n            }\n\n            return id;\n          }).filter(function (id) {\n            return !!getData(id, null, null, _this2.data);\n          });\n        }\n\n        if (emojis.length === 0 && frequentlyUsed.length > 0) {\n          return null;\n        }\n      }\n\n      if (emojis) {\n        emojis = emojis.slice(0);\n      }\n\n      return emojis;\n    }\n  }, {\n    key: \"updateDisplay\",\n    value: function updateDisplay(display) {\n      var emojis = this.getEmojis();\n\n      if (!emojis || !this.container) {\n        return;\n      }\n\n      this.container.style.display = display;\n    }\n  }, {\n    key: \"setContainerRef\",\n    value: function setContainerRef(c) {\n      this.container = c;\n    }\n  }, {\n    key: \"setLabelRef\",\n    value: function setLabelRef(c) {\n      this.label = c;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var _this$props3 = this.props,\n          id = _this$props3.id,\n          name = _this$props3.name,\n          hasStickyPosition = _this$props3.hasStickyPosition,\n          emojiProps = _this$props3.emojiProps,\n          i18n = _this$props3.i18n,\n          notFound = _this$props3.notFound,\n          notFoundEmoji = _this$props3.notFoundEmoji,\n          emojis = this.getEmojis(),\n          labelStyles = {},\n          labelSpanStyles = {},\n          containerStyles = {};\n\n      if (!emojis) {\n        containerStyles = {\n          display: 'none'\n        };\n      }\n\n      if (!hasStickyPosition) {\n        labelStyles = {\n          height: 28\n        };\n        labelSpanStyles = {\n          position: 'absolute'\n        };\n      }\n\n      var label = i18n.categories[id] || name;\n      return React.createElement(\"section\", {\n        ref: this.setContainerRef,\n        className: \"emoji-mart-category\",\n        \"aria-label\": label,\n        style: containerStyles\n      }, React.createElement(\"div\", {\n        style: labelStyles,\n        \"data-name\": name,\n        className: \"emoji-mart-category-label\"\n      }, React.createElement(\"span\", {\n        style: labelSpanStyles,\n        ref: this.setLabelRef,\n        \"aria-hidden\": true\n        /* already labeled by the section aria-label */\n\n      }, label)), React.createElement(\"ul\", {\n        className: \"emoji-mart-category-list\"\n      }, emojis && emojis.map(function (emoji) {\n        return React.createElement(\"li\", {\n          key: emoji.short_names && emoji.short_names.join('_') || emoji\n        }, NimbleEmoji(_objectSpread({\n          emoji: emoji,\n          data: _this3.data\n        }, emojiProps)));\n      })), emojis && !emojis.length && React.createElement(NotFound, {\n        i18n: i18n,\n        notFound: notFound,\n        notFoundEmoji: notFoundEmoji,\n        data: this.data,\n        emojiProps: emojiProps\n      }));\n    }\n  }]);\n\n  return Category;\n}(React.Component);\n\nexport { Category as default };\nCategory.propTypes\n/* remove-proptypes */\n= {\n  emojis: PropTypes.array,\n  hasStickyPosition: PropTypes.bool,\n  name: PropTypes.string.isRequired,\n  \"native\": PropTypes.bool.isRequired,\n  perLine: PropTypes.number.isRequired,\n  emojiProps: PropTypes.object.isRequired,\n  recent: PropTypes.arrayOf(PropTypes.string),\n  notFound: PropTypes.func,\n  notFoundEmoji: PropTypes.string.isRequired\n};\nCategory.defaultProps = {\n  emojis: [],\n  hasStickyPosition: true\n};", "import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nvar Skins =\n/*#__PURE__*/\nfunction (_React$PureComponent) {\n  _inherits(Skins, _React$PureComponent);\n\n  function Skins(props) {\n    var _this;\n\n    _classCallCheck(this, Skins);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Skins).call(this, props));\n    _this.state = {\n      opened: false\n    };\n    return _this;\n  }\n\n  _createClass(Skins, [{\n    key: \"handleClick\",\n    value: function handleClick(e) {\n      var skin = parseInt(e.currentTarget.getAttribute('data-skin'));\n      var onChange = this.props.onChange;\n\n      if (!this.state.opened) {\n        this.setState({\n          opened: true\n        });\n      } else {\n        this.setState({\n          opened: false\n        });\n\n        if (skin != this.props.skin) {\n          onChange(skin);\n        }\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return null;\n    }\n  }]);\n\n  return Skins;\n}(React.PureComponent);\n\nexport { Skins as default };\nSkins.propTypes\n/* remove-proptypes */\n= {\n  onChange: PropTypes.func,\n  skin: PropTypes.number.isRequired\n};\nSkins.defaultProps = {\n  onChange: function onChange() {}\n};", "import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport NimbleEmoji from './emoji/nimble-emoji';\nimport Skins from './skins';\n\nvar SkinsEmoji =\n/*#__PURE__*/\nfunction (_Skins) {\n  _inherits(SkinsEmoji, _Skins);\n\n  function SkinsEmoji(props) {\n    var _this;\n\n    _classCallCheck(this, SkinsEmoji);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(SkinsEmoji).call(this, props));\n    _this.handleClick = _this.handleClick.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(SkinsEmoji, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          skin = _this$props.skin,\n          emojiProps = _this$props.emojiProps,\n          data = _this$props.data,\n          skinEmoji = _this$props.skinEmoji,\n          i18n = _this$props.i18n;\n      var opened = this.state.opened;\n      var skinToneNodes = [];\n\n      for (var skinTone = 1; skinTone <= 6; skinTone++) {\n        var selected = skinTone === skin;\n        skinToneNodes.push(React.createElement(\"span\", {\n          key: \"skin-tone-\".concat(skinTone),\n          className: \"emoji-mart-skin-swatch custom\".concat(selected ? ' selected' : '')\n        }, React.createElement(\"span\", {\n          onClick: this.handleClick,\n          \"data-skin\": skinTone,\n          className: \"emoji-mart-skin-tone-\".concat(skinTone)\n        }, NimbleEmoji({\n          emoji: skinEmoji,\n          data: data,\n          skin: skinTone,\n          backgroundImageFn: emojiProps.backgroundImageFn,\n          \"native\": emojiProps[\"native\"],\n          set: emojiProps.set,\n          sheetSize: emojiProps.sheetSize,\n          size: 23\n        }))));\n      }\n\n      return React.createElement(\"div\", {\n        className: \"emoji-mart-skin-swatches custom\".concat(opened ? ' opened' : '')\n      }, React.createElement(\"div\", {\n        className: \"emoji-mart-skin-text\".concat(opened ? ' opened' : '')\n      }, i18n.skintext), skinToneNodes);\n    }\n  }]);\n\n  return SkinsEmoji;\n}(Skins);\n\nexport { SkinsEmoji as default };\nSkinsEmoji.propTypes\n/* remove-proptypes */\n= {\n  onChange: PropTypes.func,\n  skin: PropTypes.number.isRequired,\n  emojiProps: PropTypes.object.isRequired,\n  skinTone: PropTypes.number,\n  skinEmoji: PropTypes.string.isRequired,\n  i18n: PropTypes.object\n};\nSkinsEmoji.defaultProps = {\n  onChange: function onChange() {},\n  skinTone: null\n};", "import _extends from \"@babel/runtime/helpers/extends\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport Skins from './skins';\n\nvar SkinsDot =\n/*#__PURE__*/\nfunction (_Skins) {\n  _inherits(SkinsDot, _Skins);\n\n  function SkinsDot(props) {\n    var _this;\n\n    _classCallCheck(this, SkinsDot);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(SkinsDot).call(this, props));\n    _this.handleClick = _this.handleClick.bind(_assertThisInitialized(_this));\n    _this.handleKeyDown = _this.handleKeyDown.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(SkinsDot, [{\n    key: \"handleKeyDown\",\n    value: function handleKeyDown(event) {\n      // if either enter or space is pressed, then execute\n      if (event.keyCode === 13 || event.keyCode === 32) {\n        event.preventDefault();\n        this.handleClick(event);\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          skin = _this$props.skin,\n          i18n = _this$props.i18n;\n      var opened = this.state.opened;\n      var skinToneNodes = [];\n\n      for (var skinTone = 1; skinTone <= 6; skinTone++) {\n        var selected = skinTone === skin;\n        var visible = opened || selected;\n        skinToneNodes.push(React.createElement(\"span\", _extends({\n          key: \"skin-tone-\".concat(skinTone),\n          className: \"emoji-mart-skin-swatch\".concat(selected ? ' selected' : ''),\n          \"aria-label\": i18n.skintones[skinTone],\n          \"aria-hidden\": !visible\n        }, opened ? {\n          role: 'menuitem'\n        } : {}), React.createElement(\"span\", _extends({\n          onClick: this.handleClick,\n          onKeyDown: this.handleKeyDown,\n          role: \"button\"\n        }, selected ? {\n          'aria-haspopup': true,\n          'aria-expanded': !!opened\n        } : {}, opened ? {\n          'aria-pressed': !!selected\n        } : {}, {\n          tabIndex: visible ? '0' : '',\n          \"aria-label\": i18n.skintones[skinTone],\n          title: i18n.skintones[skinTone],\n          \"data-skin\": skinTone,\n          className: \"emoji-mart-skin emoji-mart-skin-tone-\".concat(skinTone)\n        }))));\n      }\n\n      return React.createElement(\"section\", {\n        className: \"emoji-mart-skin-swatches\".concat(opened ? ' opened' : ''),\n        \"aria-label\": i18n.skintext\n      }, React.createElement(\"div\", opened ? {\n        role: 'menubar'\n      } : {}, skinToneNodes));\n    }\n  }]);\n\n  return SkinsDot;\n}(Skins);\n\nexport { SkinsDot as default };\nSkinsDot.propTypes\n/* remove-proptypes */\n= {\n  onChange: PropTypes.func,\n  skin: PropTypes.number.isRequired,\n  i18n: PropTypes.object\n};\nSkinsDot.defaultProps = {\n  onChange: function onChange() {}\n};", "import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { getData } from '../utils';\nimport NimbleEmoji from './emoji/nimble-emoji';\nimport SkinsEmoji from './skins-emoji';\nimport SkinsDot from './skins-dot';\n\nvar Preview =\n/*#__PURE__*/\nfunction (_React$PureComponent) {\n  _inherits(Preview, _React$PureComponent);\n\n  function Preview(props) {\n    var _this;\n\n    _classCallCheck(this, Preview);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Preview).call(this, props));\n    _this.data = props.data;\n    _this.state = {\n      emoji: null\n    };\n    return _this;\n  }\n\n  _createClass(Preview, [{\n    key: \"render\",\n    value: function render() {\n      var emoji = this.state.emoji,\n          _this$props = this.props,\n          emojiProps = _this$props.emojiProps,\n          skinsProps = _this$props.skinsProps,\n          showSkinTones = _this$props.showSkinTones,\n          title = _this$props.title,\n          idleEmoji = _this$props.emoji,\n          i18n = _this$props.i18n,\n          showPreview = _this$props.showPreview;\n\n      if (emoji && showPreview) {\n        var emojiData = getData(emoji, null, null, this.data),\n            _emojiData$emoticons = emojiData.emoticons,\n            emoticons = _emojiData$emoticons === void 0 ? [] : _emojiData$emoticons,\n            knownEmoticons = [],\n            listedEmoticons = [];\n        emoticons.forEach(function (emoticon) {\n          if (knownEmoticons.indexOf(emoticon.toLowerCase()) >= 0) {\n            return;\n          }\n\n          knownEmoticons.push(emoticon.toLowerCase());\n          listedEmoticons.push(emoticon);\n        });\n        return React.createElement(\"div\", {\n          className: \"emoji-mart-preview\"\n        }, React.createElement(\"div\", {\n          className: \"emoji-mart-preview-emoji\",\n          \"aria-hidden\": \"true\"\n        }, NimbleEmoji(_objectSpread({\n          key: emoji.id,\n          emoji: emoji,\n          data: this.data\n        }, emojiProps))), React.createElement(\"div\", {\n          className: \"emoji-mart-preview-data\",\n          \"aria-hidden\": \"true\"\n        }, React.createElement(\"div\", {\n          className: \"emoji-mart-preview-name\"\n        }, emoji.name), React.createElement(\"div\", {\n          className: \"emoji-mart-preview-shortnames\"\n        }, emojiData.short_names.map(function (short_name) {\n          return React.createElement(\"span\", {\n            key: short_name,\n            className: \"emoji-mart-preview-shortname\"\n          }, \":\", short_name, \":\");\n        })), React.createElement(\"div\", {\n          className: \"emoji-mart-preview-emoticons\"\n        }, listedEmoticons.map(function (emoticon) {\n          return React.createElement(\"span\", {\n            key: emoticon,\n            className: \"emoji-mart-preview-emoticon\"\n          }, emoticon);\n        }))));\n      } else {\n        return React.createElement(\"div\", {\n          className: \"emoji-mart-preview\"\n        }, React.createElement(\"div\", {\n          className: \"emoji-mart-preview-emoji\",\n          \"aria-hidden\": \"true\"\n        }, idleEmoji && idleEmoji.length && NimbleEmoji(_objectSpread({\n          emoji: idleEmoji,\n          data: this.data\n        }, emojiProps))), React.createElement(\"div\", {\n          className: \"emoji-mart-preview-data\",\n          \"aria-hidden\": \"true\"\n        }, React.createElement(\"span\", {\n          className: \"emoji-mart-title-label\"\n        }, title)), showSkinTones && React.createElement(\"div\", {\n          className: \"emoji-mart-preview-skins\".concat(skinsProps.skinEmoji ? ' custom' : '')\n        }, skinsProps.skinEmoji ? React.createElement(SkinsEmoji, {\n          skin: skinsProps.skin,\n          emojiProps: emojiProps,\n          data: this.data,\n          skinEmoji: skinsProps.skinEmoji,\n          i18n: i18n,\n          onChange: skinsProps.onChange\n        }) : React.createElement(SkinsDot, {\n          skin: skinsProps.skin,\n          i18n: i18n,\n          onChange: skinsProps.onChange\n        })));\n      }\n    }\n  }]);\n\n  return Preview;\n}(React.PureComponent);\n\nexport { Preview as default };\nPreview.propTypes\n/* remove-proptypes */\n= {\n  showSkinTones: PropTypes.bool,\n  title: PropTypes.string.isRequired,\n  emoji: PropTypes.string.isRequired,\n  emojiProps: PropTypes.object.isRequired,\n  skinsProps: PropTypes.object.isRequired\n};\nPreview.defaultProps = {\n  showSkinTones: true,\n  onChange: function onChange() {}\n};", "import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { search as icons } from '../svgs';\nimport NimbleEmojiIndex from '../utils/emoji-index/nimble-emoji-index';\nimport { throttleIdleTask } from '../utils/index';\nvar id = 0;\n\nvar Search =\n/*#__PURE__*/\nfunction (_React$PureComponent) {\n  _inherits(Search, _React$PureComponent);\n\n  function Search(props) {\n    var _this;\n\n    _classCallCheck(this, Search);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Search).call(this, props));\n    _this.state = {\n      icon: icons.search,\n      isSearching: false,\n      id: ++id\n    };\n    _this.data = props.data;\n    _this.emojiIndex = new NimbleEmojiIndex(_this.data);\n    _this.setRef = _this.setRef.bind(_assertThisInitialized(_this));\n    _this.clear = _this.clear.bind(_assertThisInitialized(_this));\n    _this.handleKeyUp = _this.handleKeyUp.bind(_assertThisInitialized(_this)); // throttle keyboard input so that typing isn't delayed\n\n    _this.handleChange = throttleIdleTask(_this.handleChange.bind(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(Search, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      // in some cases (e.g. preact) the input may already be pre-populated\n      // this.input is undefined in Jest tests\n      if (this.input && this.input.value) {\n        this.search(this.input.value);\n      }\n    }\n  }, {\n    key: \"search\",\n    value: function search(value) {\n      if (value == '') this.setState({\n        icon: icons.search,\n        isSearching: false\n      });else this.setState({\n        icon: icons[\"delete\"],\n        isSearching: true\n      });\n      this.props.onSearch(this.emojiIndex.search(value, {\n        emojisToShowFilter: this.props.emojisToShowFilter,\n        maxResults: this.props.maxResults,\n        include: this.props.include,\n        exclude: this.props.exclude,\n        custom: this.props.custom\n      }));\n    }\n  }, {\n    key: \"clear\",\n    value: function clear() {\n      if (this.input.value == '') return;\n      this.input.value = '';\n      this.input.focus();\n      this.search('');\n    }\n  }, {\n    key: \"handleChange\",\n    value: function handleChange() {\n      if (this.input) {\n        this.search(this.input.value);\n      }\n    }\n  }, {\n    key: \"handleKeyUp\",\n    value: function handleKeyUp(e) {\n      if (e.keyCode === 13) {\n        this.clear();\n      }\n    }\n  }, {\n    key: \"setRef\",\n    value: function setRef(c) {\n      this.input = c;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          i18n = _this$props.i18n,\n          autoFocus = _this$props.autoFocus;\n      var _this$state = this.state,\n          icon = _this$state.icon,\n          isSearching = _this$state.isSearching,\n          id = _this$state.id;\n      var inputId = \"emoji-mart-search-\".concat(id);\n      return React.createElement(\"section\", {\n        className: \"emoji-mart-search\",\n        \"aria-label\": i18n.search\n      }, React.createElement(\"input\", {\n        id: inputId,\n        ref: this.setRef,\n        type: \"search\",\n        onChange: this.handleChange,\n        placeholder: i18n.search,\n        autoFocus: autoFocus\n      }), React.createElement(\"label\", {\n        className: \"emoji-mart-sr-only\",\n        htmlFor: inputId\n      }, i18n.search), React.createElement(\"button\", {\n        className: \"emoji-mart-search-icon\",\n        onClick: this.clear,\n        onKeyUp: this.handleKeyUp,\n        \"aria-label\": i18n.clear,\n        disabled: !isSearching\n      }, icon()));\n    }\n  }]);\n\n  return Search;\n}(React.PureComponent);\n\nexport { Search as default };\nSearch.propTypes\n/* remove-proptypes */\n= {\n  onSearch: PropTypes.func,\n  maxResults: PropTypes.number,\n  emojisToShowFilter: PropTypes.func,\n  autoFocus: PropTypes.bool\n};\nSearch.defaultProps = {\n  onSearch: function onSearch() {},\n  maxResults: 75,\n  emojisToShowFilter: null,\n  autoFocus: false\n};", "import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport * as icons from '../../svgs';\nimport store from '../../utils/store';\nimport frequently from '../../utils/frequently';\nimport { deepMerge, measureScrollbar, getSanitizedData } from '../../utils';\nimport { uncompress } from '../../utils/data';\nimport { PickerPropTypes } from '../../utils/shared-props';\nimport Anchors from '../anchors';\nimport Category from '../category';\nimport Preview from '../preview';\nimport Search from '../search';\nimport { PickerDefaultProps } from '../../utils/shared-default-props';\nvar I18N = {\n  search: 'Search',\n  clear: 'Clear',\n  // Accessible label on \"clear\" button\n  notfound: 'No Emoji Found',\n  skintext: 'Choose your default skin tone',\n  categories: {\n    search: 'Search Results',\n    recent: 'Frequently Used',\n    people: 'Smileys & People',\n    nature: 'Animals & Nature',\n    foods: 'Food & Drink',\n    activity: 'Activity',\n    places: 'Travel & Places',\n    objects: 'Objects',\n    symbols: 'Symbols',\n    flags: 'Flags',\n    custom: 'Custom'\n  },\n  categorieslabel: 'Emoji categories',\n  // Accessible title for the list of categories\n  skintones: {\n    1: 'Default Skin Tone',\n    2: 'Light Skin Tone',\n    3: 'Medium-Light Skin Tone',\n    4: 'Medium Skin Tone',\n    5: 'Medium-Dark Skin Tone',\n    6: 'Dark Skin Tone'\n  }\n};\n\nvar NimblePicker =\n/*#__PURE__*/\nfunction (_React$PureComponent) {\n  _inherits(NimblePicker, _React$PureComponent);\n\n  function NimblePicker(props) {\n    var _this;\n\n    _classCallCheck(this, NimblePicker);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(NimblePicker).call(this, props));\n    _this.CUSTOM = [];\n    _this.RECENT_CATEGORY = {\n      id: 'recent',\n      name: 'Recent',\n      emojis: null\n    };\n    _this.SEARCH_CATEGORY = {\n      id: 'search',\n      name: 'Search',\n      emojis: null,\n      anchor: false\n    };\n\n    if (props.data.compressed) {\n      uncompress(props.data);\n    }\n\n    _this.data = props.data;\n    _this.i18n = deepMerge(I18N, props.i18n);\n    _this.icons = deepMerge(icons, props.icons);\n    _this.state = {\n      firstRender: true\n    };\n    _this.categories = [];\n    var allCategories = [].concat(_this.data.categories);\n\n    if (props.custom.length > 0) {\n      var customCategories = {};\n      var customCategoriesCreated = 0;\n      props.custom.forEach(function (emoji) {\n        if (!customCategories[emoji.customCategory]) {\n          customCategories[emoji.customCategory] = {\n            id: emoji.customCategory ? \"custom-\".concat(emoji.customCategory) : 'custom',\n            name: emoji.customCategory || 'Custom',\n            emojis: [],\n            anchor: customCategoriesCreated === 0\n          };\n          customCategoriesCreated++;\n        }\n\n        var category = customCategories[emoji.customCategory];\n\n        var customEmoji = _objectSpread({}, emoji, {\n          // `<Category />` expects emoji to have an `id`.\n          id: emoji.short_names[0],\n          custom: true\n        });\n\n        category.emojis.push(customEmoji);\n\n        _this.CUSTOM.push(customEmoji);\n      });\n      allCategories = allCategories.concat(Object.keys(customCategories).map(function (key) {\n        return customCategories[key];\n      }));\n    }\n\n    _this.hideRecent = true;\n\n    if (props.include != undefined) {\n      allCategories.sort(function (a, b) {\n        if (props.include.indexOf(a.id) > props.include.indexOf(b.id)) {\n          return 1;\n        }\n\n        return -1;\n      });\n    }\n\n    for (var categoryIndex = 0; categoryIndex < allCategories.length; categoryIndex++) {\n      var category = allCategories[categoryIndex];\n      var isIncluded = props.include && props.include.length ? props.include.indexOf(category.id) > -1 : true;\n      var isExcluded = props.exclude && props.exclude.length ? props.exclude.indexOf(category.id) > -1 : false;\n\n      if (!isIncluded || isExcluded) {\n        continue;\n      }\n\n      if (props.emojisToShowFilter) {\n        var newEmojis = [];\n        var emojis = category.emojis;\n\n        for (var emojiIndex = 0; emojiIndex < emojis.length; emojiIndex++) {\n          var emoji = emojis[emojiIndex];\n\n          if (props.emojisToShowFilter(_this.data.emojis[emoji] || emoji)) {\n            newEmojis.push(emoji);\n          }\n        }\n\n        if (newEmojis.length) {\n          var newCategory = {\n            emojis: newEmojis,\n            name: category.name,\n            id: category.id\n          };\n\n          _this.categories.push(newCategory);\n        }\n      } else {\n        _this.categories.push(category);\n      }\n    }\n\n    var includeRecent = props.include && props.include.length ? props.include.indexOf(_this.RECENT_CATEGORY.id) > -1 : true;\n    var excludeRecent = props.exclude && props.exclude.length ? props.exclude.indexOf(_this.RECENT_CATEGORY.id) > -1 : false;\n\n    if (includeRecent && !excludeRecent) {\n      _this.hideRecent = false;\n\n      _this.categories.unshift(_this.RECENT_CATEGORY);\n    }\n\n    if (_this.categories[0]) {\n      _this.categories[0].first = true;\n    }\n\n    _this.categories.unshift(_this.SEARCH_CATEGORY);\n\n    _this.setAnchorsRef = _this.setAnchorsRef.bind(_assertThisInitialized(_this));\n    _this.handleAnchorClick = _this.handleAnchorClick.bind(_assertThisInitialized(_this));\n    _this.setSearchRef = _this.setSearchRef.bind(_assertThisInitialized(_this));\n    _this.handleSearch = _this.handleSearch.bind(_assertThisInitialized(_this));\n    _this.setScrollRef = _this.setScrollRef.bind(_assertThisInitialized(_this));\n    _this.handleScroll = _this.handleScroll.bind(_assertThisInitialized(_this));\n    _this.handleScrollPaint = _this.handleScrollPaint.bind(_assertThisInitialized(_this));\n    _this.handleEmojiOver = _this.handleEmojiOver.bind(_assertThisInitialized(_this));\n    _this.handleEmojiLeave = _this.handleEmojiLeave.bind(_assertThisInitialized(_this));\n    _this.handleEmojiClick = _this.handleEmojiClick.bind(_assertThisInitialized(_this));\n    _this.handleEmojiSelect = _this.handleEmojiSelect.bind(_assertThisInitialized(_this));\n    _this.setPreviewRef = _this.setPreviewRef.bind(_assertThisInitialized(_this));\n    _this.handleSkinChange = _this.handleSkinChange.bind(_assertThisInitialized(_this));\n    _this.handleKeyDown = _this.handleKeyDown.bind(_assertThisInitialized(_this));\n    _this.handleDarkMatchMediaChange = _this.handleDarkMatchMediaChange.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(NimblePicker, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      if (this.state.firstRender) {\n        this.testStickyPosition();\n        this.firstRenderTimeout = setTimeout(function () {\n          _this2.setState({\n            firstRender: false\n          });\n        }, 60);\n      }\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {\n      this.updateCategoriesSize();\n      this.handleScroll();\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.SEARCH_CATEGORY.emojis = null;\n      clearTimeout(this.leaveTimeout);\n      clearTimeout(this.firstRenderTimeout);\n\n      if (this.darkMatchMedia) {\n        this.darkMatchMedia.removeListener(this.handleDarkMatchMediaChange);\n      }\n    }\n  }, {\n    key: \"testStickyPosition\",\n    value: function testStickyPosition() {\n      var stickyTestElement = document.createElement('div');\n      var prefixes = ['', '-webkit-', '-ms-', '-moz-', '-o-'];\n      prefixes.forEach(function (prefix) {\n        return stickyTestElement.style.position = \"\".concat(prefix, \"sticky\");\n      });\n      this.hasStickyPosition = !!stickyTestElement.style.position.length;\n    }\n  }, {\n    key: \"getPreferredTheme\",\n    value: function getPreferredTheme() {\n      if (this.props.theme != 'auto') return this.props.theme;\n      if (this.state.theme) return this.state.theme;\n      if (typeof matchMedia !== 'function') return PickerDefaultProps.theme;\n\n      if (!this.darkMatchMedia) {\n        this.darkMatchMedia = matchMedia('(prefers-color-scheme: dark)');\n        this.darkMatchMedia.addListener(this.handleDarkMatchMediaChange);\n      }\n\n      if (this.darkMatchMedia.media.match(/^not/)) return PickerDefaultProps.theme;\n      return this.darkMatchMedia.matches ? 'dark' : 'light';\n    }\n  }, {\n    key: \"handleDarkMatchMediaChange\",\n    value: function handleDarkMatchMediaChange() {\n      this.setState({\n        theme: this.darkMatchMedia.matches ? 'dark' : 'light'\n      });\n    }\n  }, {\n    key: \"handleEmojiOver\",\n    value: function handleEmojiOver(emoji) {\n      var preview = this.preview;\n\n      if (!preview) {\n        return;\n      } // Use Array.prototype.find() when it is more widely supported.\n\n\n      var emojiData = this.CUSTOM.filter(function (customEmoji) {\n        return customEmoji.id === emoji.id;\n      })[0];\n\n      for (var key in emojiData) {\n        if (emojiData.hasOwnProperty(key)) {\n          emoji[key] = emojiData[key];\n        }\n      }\n\n      preview.setState({\n        emoji: emoji\n      });\n      clearTimeout(this.leaveTimeout);\n    }\n  }, {\n    key: \"handleEmojiLeave\",\n    value: function handleEmojiLeave(emoji) {\n      var preview = this.preview;\n\n      if (!preview) {\n        return;\n      }\n\n      this.leaveTimeout = setTimeout(function () {\n        preview.setState({\n          emoji: null\n        });\n      }, 16);\n    }\n  }, {\n    key: \"handleEmojiClick\",\n    value: function handleEmojiClick(emoji, e) {\n      this.props.onClick(emoji, e);\n      this.handleEmojiSelect(emoji);\n    }\n  }, {\n    key: \"handleEmojiSelect\",\n    value: function handleEmojiSelect(emoji) {\n      var _this3 = this;\n\n      this.props.onSelect(emoji);\n      if (!this.hideRecent && !this.props.recent) frequently.add(emoji);\n      var component = this.categoryRefs['category-1'];\n\n      if (component) {\n        var maxMargin = component.maxMargin;\n\n        if (this.props.enableFrequentEmojiSort) {\n          component.forceUpdate();\n        }\n\n        requestAnimationFrame(function () {\n          if (!_this3.scroll) return;\n          component.memoizeSize();\n          if (maxMargin == component.maxMargin) return;\n\n          _this3.updateCategoriesSize();\n\n          _this3.handleScrollPaint();\n\n          if (_this3.SEARCH_CATEGORY.emojis) {\n            component.updateDisplay('none');\n          }\n        });\n      }\n    }\n  }, {\n    key: \"handleScroll\",\n    value: function handleScroll() {\n      if (!this.waitingForPaint) {\n        this.waitingForPaint = true;\n        requestAnimationFrame(this.handleScrollPaint);\n      }\n    }\n  }, {\n    key: \"handleScrollPaint\",\n    value: function handleScrollPaint() {\n      this.waitingForPaint = false;\n\n      if (!this.scroll) {\n        return;\n      }\n\n      var activeCategory = null;\n\n      if (this.SEARCH_CATEGORY.emojis) {\n        activeCategory = this.SEARCH_CATEGORY;\n      } else {\n        var target = this.scroll,\n            scrollTop = target.scrollTop,\n            scrollingDown = scrollTop > (this.scrollTop || 0),\n            minTop = 0;\n\n        for (var i = 0, l = this.categories.length; i < l; i++) {\n          var ii = scrollingDown ? this.categories.length - 1 - i : i,\n              category = this.categories[ii],\n              component = this.categoryRefs[\"category-\".concat(ii)];\n\n          if (component) {\n            var active = component.handleScroll(scrollTop);\n\n            if (!minTop || component.top < minTop) {\n              if (component.top > 0) {\n                minTop = component.top;\n              }\n            }\n\n            if (active && !activeCategory) {\n              activeCategory = category;\n            }\n          }\n        }\n\n        if (scrollTop < minTop) {\n          activeCategory = this.categories.filter(function (category) {\n            return !(category.anchor === false);\n          })[0];\n        } else if (scrollTop + this.clientHeight >= this.scrollHeight) {\n          activeCategory = this.categories[this.categories.length - 1];\n        }\n      }\n\n      if (activeCategory) {\n        var anchors = this.anchors,\n            _activeCategory = activeCategory,\n            categoryName = _activeCategory.name;\n\n        if (anchors.state.selected != categoryName) {\n          anchors.setState({\n            selected: categoryName\n          });\n        }\n      }\n\n      this.scrollTop = scrollTop;\n    }\n  }, {\n    key: \"handleSearch\",\n    value: function handleSearch(emojis) {\n      this.SEARCH_CATEGORY.emojis = emojis;\n\n      for (var i = 0, l = this.categories.length; i < l; i++) {\n        var component = this.categoryRefs[\"category-\".concat(i)];\n\n        if (component && component.props.name != 'Search') {\n          var display = emojis ? 'none' : 'inherit';\n          component.updateDisplay(display);\n        }\n      }\n\n      this.forceUpdate();\n\n      if (this.scroll) {\n        this.scroll.scrollTop = 0;\n      }\n\n      this.handleScroll();\n    }\n  }, {\n    key: \"handleAnchorClick\",\n    value: function handleAnchorClick(category, i) {\n      var component = this.categoryRefs[\"category-\".concat(i)],\n          scroll = this.scroll,\n          anchors = this.anchors,\n          scrollToComponent = null;\n\n      scrollToComponent = function scrollToComponent() {\n        if (component) {\n          var top = component.top;\n\n          if (category.first) {\n            top = 0;\n          } else {\n            top += 1;\n          }\n\n          scroll.scrollTop = top;\n        }\n      };\n\n      if (this.SEARCH_CATEGORY.emojis) {\n        this.handleSearch(null);\n        this.search.clear();\n        requestAnimationFrame(scrollToComponent);\n      } else {\n        scrollToComponent();\n      }\n    }\n  }, {\n    key: \"handleSkinChange\",\n    value: function handleSkinChange(skin) {\n      var newState = {\n        skin: skin\n      },\n          onSkinChange = this.props.onSkinChange;\n      this.setState(newState);\n      store.update(newState);\n      onSkinChange(skin);\n    }\n  }, {\n    key: \"handleKeyDown\",\n    value: function handleKeyDown(e) {\n      var handled = false;\n\n      switch (e.keyCode) {\n        case 13:\n          var emoji;\n\n          if (this.SEARCH_CATEGORY.emojis && this.SEARCH_CATEGORY.emojis.length && (emoji = getSanitizedData(this.SEARCH_CATEGORY.emojis[0], this.state.skin, this.props.set, this.props.data))) {\n            this.handleEmojiSelect(emoji);\n            handled = true;\n          }\n\n          break;\n      }\n\n      if (handled) {\n        e.preventDefault();\n      }\n    }\n  }, {\n    key: \"updateCategoriesSize\",\n    value: function updateCategoriesSize() {\n      for (var i = 0, l = this.categories.length; i < l; i++) {\n        var component = this.categoryRefs[\"category-\".concat(i)];\n        if (component) component.memoizeSize();\n      }\n\n      if (this.scroll) {\n        var target = this.scroll;\n        this.scrollHeight = target.scrollHeight;\n        this.clientHeight = target.clientHeight;\n      }\n    }\n  }, {\n    key: \"getCategories\",\n    value: function getCategories() {\n      return this.state.firstRender ? this.categories.slice(0, 3) : this.categories;\n    }\n  }, {\n    key: \"setAnchorsRef\",\n    value: function setAnchorsRef(c) {\n      this.anchors = c;\n    }\n  }, {\n    key: \"setSearchRef\",\n    value: function setSearchRef(c) {\n      this.search = c;\n    }\n  }, {\n    key: \"setPreviewRef\",\n    value: function setPreviewRef(c) {\n      this.preview = c;\n    }\n  }, {\n    key: \"setScrollRef\",\n    value: function setScrollRef(c) {\n      this.scroll = c;\n    }\n  }, {\n    key: \"setCategoryRef\",\n    value: function setCategoryRef(name, c) {\n      if (!this.categoryRefs) {\n        this.categoryRefs = {};\n      }\n\n      this.categoryRefs[name] = c;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this4 = this;\n\n      var _this$props = this.props,\n          perLine = _this$props.perLine,\n          emojiSize = _this$props.emojiSize,\n          set = _this$props.set,\n          sheetSize = _this$props.sheetSize,\n          sheetColumns = _this$props.sheetColumns,\n          sheetRows = _this$props.sheetRows,\n          style = _this$props.style,\n          title = _this$props.title,\n          emoji = _this$props.emoji,\n          color = _this$props.color,\n          _native = _this$props[\"native\"],\n          backgroundImageFn = _this$props.backgroundImageFn,\n          emojisToShowFilter = _this$props.emojisToShowFilter,\n          showPreview = _this$props.showPreview,\n          showSkinTones = _this$props.showSkinTones,\n          emojiTooltip = _this$props.emojiTooltip,\n          useButton = _this$props.useButton,\n          include = _this$props.include,\n          exclude = _this$props.exclude,\n          recent = _this$props.recent,\n          autoFocus = _this$props.autoFocus,\n          skinEmoji = _this$props.skinEmoji,\n          notFound = _this$props.notFound,\n          notFoundEmoji = _this$props.notFoundEmoji;\n      var width = perLine * (emojiSize + 12) + 12 + 2 + measureScrollbar();\n      var theme = this.getPreferredTheme();\n      var skin = this.props.skin || this.state.skin || store.get('skin') || this.props.defaultSkin;\n      return React.createElement(\"section\", {\n        style: _objectSpread({\n          width: width\n        }, style),\n        className: \"emoji-mart emoji-mart-\".concat(theme),\n        \"aria-label\": title,\n        onKeyDown: this.handleKeyDown\n      }, React.createElement(\"div\", {\n        className: \"emoji-mart-bar\"\n      }, React.createElement(Anchors, {\n        ref: this.setAnchorsRef,\n        data: this.data,\n        i18n: this.i18n,\n        color: color,\n        categories: this.categories,\n        onAnchorClick: this.handleAnchorClick,\n        icons: this.icons\n      })), React.createElement(Search, {\n        ref: this.setSearchRef,\n        onSearch: this.handleSearch,\n        data: this.data,\n        i18n: this.i18n,\n        emojisToShowFilter: emojisToShowFilter,\n        include: include,\n        exclude: exclude,\n        custom: this.CUSTOM,\n        autoFocus: autoFocus\n      }), React.createElement(\"div\", {\n        ref: this.setScrollRef,\n        className: \"emoji-mart-scroll\",\n        onScroll: this.handleScroll\n      }, this.getCategories().map(function (category, i) {\n        return React.createElement(Category, {\n          ref: _this4.setCategoryRef.bind(_this4, \"category-\".concat(i)),\n          key: category.name,\n          id: category.id,\n          name: category.name,\n          emojis: category.emojis,\n          perLine: perLine,\n          \"native\": _native,\n          hasStickyPosition: _this4.hasStickyPosition,\n          data: _this4.data,\n          i18n: _this4.i18n,\n          recent: category.id == _this4.RECENT_CATEGORY.id ? recent : undefined,\n          custom: category.id == _this4.RECENT_CATEGORY.id ? _this4.CUSTOM : undefined,\n          emojiProps: {\n            \"native\": _native,\n            skin: skin,\n            size: emojiSize,\n            set: set,\n            sheetSize: sheetSize,\n            sheetColumns: sheetColumns,\n            sheetRows: sheetRows,\n            forceSize: _native,\n            tooltip: emojiTooltip,\n            backgroundImageFn: backgroundImageFn,\n            useButton: useButton,\n            onOver: _this4.handleEmojiOver,\n            onLeave: _this4.handleEmojiLeave,\n            onClick: _this4.handleEmojiClick\n          },\n          notFound: notFound,\n          notFoundEmoji: notFoundEmoji\n        });\n      })), (showPreview || showSkinTones) && React.createElement(\"div\", {\n        className: \"emoji-mart-bar\"\n      }, React.createElement(Preview, {\n        ref: this.setPreviewRef,\n        data: this.data,\n        title: title,\n        emoji: emoji,\n        showSkinTones: showSkinTones,\n        showPreview: showPreview,\n        emojiProps: {\n          \"native\": _native,\n          size: 38,\n          skin: skin,\n          set: set,\n          sheetSize: sheetSize,\n          sheetColumns: sheetColumns,\n          sheetRows: sheetRows,\n          backgroundImageFn: backgroundImageFn\n        },\n        skinsProps: {\n          skin: skin,\n          onChange: this.handleSkinChange,\n          skinEmoji: skinEmoji\n        },\n        i18n: this.i18n\n      })));\n    }\n  }]);\n\n  return NimblePicker;\n}(React.PureComponent);\n\nexport { NimblePicker as default };\nNimblePicker.propTypes\n/* remove-proptypes */\n= _objectSpread({}, PickerPropTypes, {\n  data: PropTypes.object.isRequired\n});\nNimblePicker.defaultProps = _objectSpread({}, PickerDefaultProps);", "import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _extends from \"@babel/runtime/helpers/extends\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React from 'react';\nimport data from '../../../data/all.json';\nimport NimblePicker from './nimble-picker';\nimport { PickerPropTypes } from '../../utils/shared-props';\nimport { PickerDefaultProps } from '../../utils/shared-default-props';\n\nvar Picker =\n/*#__PURE__*/\nfunction (_React$PureComponent) {\n  _inherits(Picker, _React$PureComponent);\n\n  function Picker() {\n    _classCallCheck(this, Picker);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(Picker).apply(this, arguments));\n  }\n\n  _createClass(Picker, [{\n    key: \"render\",\n    value: function render() {\n      return React.createElement(NimblePicker, _extends({}, this.props, this.state));\n    }\n  }]);\n\n  return Picker;\n}(React.PureComponent);\n\nexport { Picker as default };\nPicker.propTypes\n/* remove-proptypes */\n= PickerPropTypes;\nPicker.defaultProps = _objectSpread({}, PickerDefaultProps, {\n  data: data\n});", "import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React from 'react';\nimport data from '../../../data/all.json';\nimport NimbleEmoji from './nimble-emoji';\nimport { EmojiPropTypes } from '../../utils/shared-props';\nimport { EmojiDefaultProps } from '../../utils/shared-default-props';\n\nvar Emoji = function Emoji(props) {\n  for (var k in Emoji.defaultProps) {\n    if (props[k] == undefined && Emoji.defaultProps[k] != undefined) {\n      props[k] = Emoji.defaultProps[k];\n    }\n  }\n\n  return NimbleEmoji(_objectSpread({}, props));\n};\n\nEmoji.propTypes\n/* remove-proptypes */\n= EmojiPropTypes;\nEmoji.defaultProps = _objectSpread({}, EmojiDefaultProps, {\n  data: data\n});\nexport default Emoji;", "// vendors\nimport React, { memo, useMemo } from \"react\";\nimport { Picker } from \"emoji-mart\";\nimport t from \"prop-types\";\nimport \"emoji-mart/css/emoji-mart.css\";\n\n/**\n * @typedef {object} Props\n * @property {'light' | 'dark' | 'auto'} theme\n * @property {function(import(\"../types/types\").EmojiMartItem): void} onSelectEmoji\n * @property {boolean} disableRecent\n * @property {import(\"emoji-mart\").CustomEmoji[]=} customEmojis\n */\n\n/**\n * Emoji Picker Component\n * @param {Props} props\n * @return {React.FC}\n */\nfunction EmojiPicker(props) {\n  const {\n    theme,\n    onSelectEmoji,\n    disableRecent,\n    customEmojis\n  } = props;\n\n  const excludePicker = useMemo(() => {\n    /** @type import(\"emoji-mart\").CategoryName[] */\n    const exclude = [];\n\n    if (disableRecent) {\n      exclude.push(\"recent\");\n    }\n\n    return exclude;\n  }, [disableRecent]);\n\n  return (\n    <Picker\n      theme={theme}\n      set=\"apple\"\n      showPreview={false}\n      showSkinTones={false}\n      onSelect={onSelectEmoji}\n      exclude={excludePicker}\n      custom={customEmojis}\n    />\n  );\n}\n\nEmojiPicker.propTypes = {\n  theme: t.oneOf(['light', 'dark', 'auto']),\n  onSelectEmoji: t.func,\n  disableRecent: t.bool,\n  customEmojis: t.array\n};\n\nexport default memo(EmojiPicker);\n", "import React from \"react\";\nimport EmojiPicker from \"./emoji-picker\";\n\n/**\n * @typedef {object} Props\n * @property {boolean} showPicker\n * @property {'light' | 'dark' | 'auto'} theme\n * @property {(emoji: import(\"../types/types\").EmojiMartItem) => void} handleSelectEmoji\n * @property {boolean} disableRecent\n * @property {import(\"emoji-mart\").CustomEmoji[]=} customEmojis\n */\n\n/**\n * Emoji Picker Button Component\n * @param {Props} props\n * @return {JSX.Element}\n */\nfunction EmojiPickerContainer({\n  showPicker,\n  theme,\n  handleSelectEmoji,\n  disableRecent,\n  customEmojis\n}) {\n  return (\n    <div className=\"react-emoji-picker--container\">\n      {showPicker && (\n        <div\n          className=\"react-emoji-picker--wrapper\"\n          onClick={evt => evt.stopPropagation()}\n        >\n          <div className=\"react-emoji-picker\">\n            <EmojiPicker\n              theme={theme}\n              onSelectEmoji={handleSelectEmoji}\n              disableRecent={disableRecent}\n              customEmojis={customEmojis}\n            />\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport default EmojiPickerContainer;\n", "// @ts-check\n/* eslint-disable react/prop-types */\n// vendors\nimport React, { useEffect, useState } from \"react\";\nimport ReactDOM from \"react-dom\";\nimport {\n  getImageEmoji,\n  replaceAllTextEmojis,\n  replaceAllTextEmojiToString\n} from \"../utils/emoji-utils\";\n\nimport EmojiPickerButton from \"./emoji-picker-button\";\nimport EmojiPickerContainer from \"./emoji-picker-container\";\n\n/**\n * @typedef {import('../types/types').SanitizeFn} SanitizeFn\n */\n\n/**\n * @typedef {import('../types/types').PolluteFn} PolluteFn\n */\n\n/**\n * @typedef {Object} Props\n * @property {'light' | 'dark' | 'auto'} theme\n * @property {boolean} keepOpened\n * @property {boolean} disableRecent\n * @property {import(\"emoji-mart\").CustomEmoji[]=} customEmojis\n * @property {(fn: SanitizeFn) => void} addSanitizeFn\n * @property {(fn: PolluteFn) => void} addPolluteFn\n * @property {(html: string) => void} appendContent\n * @property {HTMLDivElement=} buttonElement\n */\n\n// eslint-disable-next-line valid-jsdoc\n/** @type {React.FC<Props>} */\nconst EmojiPickerWrapper = props => {\n  const {\n    theme,\n    keepOpened,\n    disableRecent,\n    customEmojis,\n    addSanitizeFn,\n    addPolluteFn,\n    appendContent,\n    buttonElement\n  } = props;\n\n  const [showPicker, setShowPicker] = useState(false);\n  /** @type {[HTMLDivElement | undefined, React.Dispatch<React.SetStateAction<HTMLDivElement | undefined>>]} */\n  const [customButton, setCustomButton] = useState();\n\n  useEffect(() => {\n    addSanitizeFn(replaceAllTextEmojiToString);\n  }, [addSanitizeFn]);\n\n  useEffect(() => {\n    addPolluteFn(replaceAllTextEmojis);\n  }, [addPolluteFn]);\n\n  useEffect(() => {\n    /**\n     *\n     * @param {MouseEvent} event\n     */\n    function checkClickOutside(event) {\n      /** @type {HTMLElement} */\n      // @ts-ignore\n      const element = event.target;\n\n      if (\n        element.classList.contains(\"react-input-emoji--button\") ||\n        element.classList.contains(\"react-input-emoji--button--icon\")\n      ) {\n        return;\n      }\n\n      setShowPicker(false);\n    }\n\n    document.addEventListener(\"click\", checkClickOutside);\n\n    return () => {\n      document.removeEventListener(\"click\", checkClickOutside);\n    };\n  }, []);\n\n  /**\n   *\n   * @param {React.MouseEvent} event\n   */\n  function toggleShowPicker(event) {\n    event.stopPropagation();\n    event.preventDefault();\n\n    setShowPicker(currentShowPicker => !currentShowPicker);\n  }\n\n  // eslint-disable-next-line valid-jsdoc\n  /**\n   *\n   * @param {import(\"../types/types\").EmojiMartItem} emoji\n   */\n  function handleSelectEmoji(emoji) {\n    appendContent(getImageEmoji(emoji));\n\n    if (!keepOpened) {\n      setShowPicker(currentShowPicker => !currentShowPicker);\n    }\n  }\n\n  useEffect(() => {\n    if (buttonElement?.style) {\n      buttonElement.style.position = \"relative\";\n      setCustomButton(buttonElement);\n    }\n  }, [buttonElement]);\n\n  return customButton ? (\n    (ReactDOM.createPortal(\n      <>\n        <EmojiPickerContainer\n          showPicker={showPicker}\n          theme={theme}\n          handleSelectEmoji={handleSelectEmoji}\n          disableRecent={disableRecent}\n          customEmojis={customEmojis}\n        />\n        <EmojiPickerButton\n          showPicker={showPicker}\n          toggleShowPicker={toggleShowPicker}\n          buttonElement={customButton}\n        />\n      </>,\n      customButton\n    ))\n  ) : (\n    (<>\n      <EmojiPickerContainer\n        showPicker={showPicker}\n        theme={theme}\n        handleSelectEmoji={handleSelectEmoji}\n        disableRecent={disableRecent}\n        customEmojis={customEmojis}\n      />\n      <EmojiPickerButton\n        showPicker={showPicker}\n        toggleShowPicker={toggleShowPicker}\n      />\n    </>)\n  );\n};\n\nexport default EmojiPickerWrapper;\n", "// @ts-check\n\n/**\n *\n * @return {string | null}\n */\nexport function getTextFromAtToCaret() {\n  const range = getRangeFromAtToCaret();\n\n  if (!range) return null;\n\n  const text = range.text.substring(range.begin, range.end);\n\n  return text || null;\n}\n\n// eslint-disable-next-line valid-jsdoc\n/** */\nexport function deleteTextFromAtToCaret() {\n  const range = getRangeFromAtToCaret();\n\n  if (!range) return;\n\n  // @ts-ignore\n  range.element.deleteData(range.begin, range.end - range.begin);\n}\n\n/**\n *\n * @return {{begin: number, end: number, text: string, element: Node} | null}\n */\nfunction getRangeFromAtToCaret() {\n  const elementWithFocus = getElementWithFocus();\n\n  if (!elementWithFocus) {\n    return null;\n  }\n\n  const { element, caretOffset } = elementWithFocus;\n  const text = element.textContent;\n  const lastAt = text.lastIndexOf(\"@\");\n\n  if (\n    lastAt === -1 ||\n    lastAt >= caretOffset ||\n    (lastAt !== 0 && text[lastAt - 1] !== \" \")\n  ) {\n    return null;\n  }\n\n  return { begin: lastAt, end: caretOffset, text, element };\n}\n\n/**\n *\n * @return {{element: Node, caretOffset: number}}\n */\nexport function getElementWithFocus() {\n  const element = getSelectionStart();\n\n  if (element === null) {\n    return null;\n  }\n\n  let caretOffset = 0;\n  if (typeof window.getSelection != \"undefined\") {\n    const range = window.getSelection().getRangeAt(0);\n    const preCaretRange = range.cloneRange();\n    preCaretRange.selectNodeContents(element);\n    preCaretRange.setEnd(range.endContainer, range.endOffset);\n    caretOffset = preCaretRange.toString().length;\n  } else if (\n    // @ts-ignore\n    typeof document.selection != \"undefined\" &&\n    // @ts-ignore\n    document.selection.type != \"Control\"\n  ) {\n    // @ts-ignore\n    const textRange = document.selection.createRange();\n    // @ts-ignore\n    const preCaretTextRange = document.body.createTextRange();\n    preCaretTextRange.moveToElementText(element);\n    preCaretTextRange.setEndPoint(\"EndToEnd\", textRange);\n    caretOffset = preCaretTextRange.text.length;\n  }\n\n  return { element, caretOffset };\n}\n\n/**\n *\n * @return {Node | null}\n */\nfunction getSelectionStart() {\n  const node = document.getSelection().anchorNode;\n  return node?.nodeType == 3 ? node : null;\n}\n", "// @ts-check\nimport { useCallback, useState } from \"react\";\nimport {\n  deleteTextFromAtToCaret,\n  getElementWithFocus,\n  getTextFromAtToCaret\n} from \"../utils/mention-utils\";\n\n/**\n * @typedef {import('../types/types').MentionUser} MentionUser\n */\n\n// eslint-disable-next-line valid-jsdoc\n/**\n *\n * @param {(text: string) => Promise<MentionUser[]>=} searchMention\n * @returns {{mentionSearchText: string | null, mentionUsers: MentionUser[], onKeyUp: (event: React.KeyboardEvent) => void, onFocus: () => void, onSelectUser: () => void, loading: boolean}}\n */\nexport function useMention(searchMention) {\n  const [loading, setLoading] = useState(false);\n\n  /** @type {[MentionUser[], React.Dispatch<React.SetStateAction<MentionUser[]>>]} */\n  const [mentionUsers, setMentionUsers] = useState([]);\n\n  /** @type {[string | null, React.Dispatch<React.SetStateAction<string | null>>]} */\n  const [mentionSearchText, setMentionSearchText] = useState(null);\n\n  const onSelectUser = useCallback(() => {\n    deleteTextFromAtToCaret();\n    setMentionUsers([]);\n  }, []);\n\n  /** */\n  const checkMentionText = useCallback(async () => {\n    const metionText = getTextFromAtToCaret();\n\n    setMentionSearchText(metionText);\n\n    if (metionText === null) {\n      setMentionUsers([]);\n    } else {\n      setLoading(true);\n      const users = await searchMention(metionText);\n      setLoading(false);\n      setMentionUsers(users);\n    }\n  }, [searchMention]);\n\n  /** @type {(event: React.KeyboardEvent) => void} */\n  const onKeyUp = useCallback(\n    async event => {\n      if (typeof searchMention !== \"function\") return;\n\n      if (\n        event.key === \"Backspace\" &&\n        getElementWithFocus()?.element.parentElement.hasAttribute(\n          \"data-mention-id\"\n        )\n      ) {\n        const elementWithFocus = getElementWithFocus();\n        elementWithFocus.element.parentElement.remove();\n      } else if (\n        ![\"ArrowUp\", \"ArrowDown\", \"Esc\", \"Escape\"].includes(event.key)\n      ) {\n        checkMentionText();\n      }\n    },\n    [checkMentionText, searchMention]\n  );\n\n  const onFocus = useCallback(() => {\n    checkMentionText();\n  }, [checkMentionText]);\n\n  return {\n    mentionSearchText,\n    mentionUsers,\n    onKeyUp,\n    onFocus,\n    onSelectUser,\n    loading\n  };\n}\n", "// @ts-check\n/* eslint-disable react/prop-types */\n// vendors\nimport React, {\n  useImperativeHandle,\n  useState,\n  forwardRef,\n  useMemo,\n  useEffect\n} from \"react\";\nimport t from \"prop-types\";\n\n/**\n * @typedef {import('../types/types').MentionUser} MentionUser\n */\n\n/**\n * @typedef {import('../types/types').TextInputListeners} TextInputListeners\n */\n\n/**\n * @typedef {Object} Props\n * @property {MentionUser[]} users\n * @property {string | null} mentionSearchText\n * @property {(user: MentionUser) => void} onSelect\n * @property {(event: keyof TextInputListeners, fn: import('../types/types').Listerner<any>) => () => void} addEventListener\n */\n\n/**\n * @typedef {{prevUser: () => void; nextUser: () => void;}} Ref\n */\n\n// eslint-disable-next-line valid-jsdoc\n/** @type {React.ForwardRefRenderFunction<Ref, Props>} */\nconst MentionUserList = (\n  { users, mentionSearchText, onSelect, addEventListener },\n  ref\n) => {\n  const [selectedUser, setSelectedUser] = useState(0);\n\n  useImperativeHandle(ref, () => ({\n    prevUser: () => {\n      setSelectedUser(currentSelectedUser => {\n        if (currentSelectedUser === 0) {\n          return 0;\n        }\n\n        return currentSelectedUser - 1;\n      });\n    },\n    nextUser: () => {\n      setSelectedUser(currentSelectedUser => {\n        if (currentSelectedUser === users.length - 1) {\n          return users.length - 1;\n        }\n\n        return currentSelectedUser + 1;\n      });\n    }\n  }));\n\n  useEffect(() => {\n    setSelectedUser(0);\n  }, [users]);\n\n  /**\n   *\n   * @param {string} selectedText\n   * @param {string} rest\n   * @return {string}\n   */\n  function getMentionSelectedNameEl(selectedText, rest) {\n    return `<span class=\"react-input-emoji--mention--item--name__selected\" data-testid=\"metion-selected-word\">${selectedText}</span>${rest}`;\n  }\n\n  /** @type {(MentionUser & {nameHtml: string})[]} */\n  const usersFiltered = useMemo(() => {\n    const searchText = mentionSearchText\n      ? mentionSearchText.substring(1).toLocaleLowerCase()\n      : \"\";\n    return users.map(user => {\n      let nameHtml = user.name;\n\n      if (mentionSearchText && mentionSearchText.length > 1) {\n        if (user.name.toLowerCase().startsWith(searchText)) {\n          nameHtml = getMentionSelectedNameEl(\n            user.name.substring(0, searchText.length),\n            user.name.substring(searchText.length)\n          );\n        } else {\n          const names = user.name.split(\" \");\n\n          nameHtml = names\n            .map(name => {\n              if (name.toLocaleLowerCase().startsWith(searchText)) {\n                return getMentionSelectedNameEl(\n                  name.substring(0, searchText.length),\n                  name.substring(searchText.length)\n                );\n              }\n              return name;\n            })\n            .join(\" \");\n        }\n      }\n\n      return {\n        ...user,\n        nameHtml\n      };\n    });\n  }, [mentionSearchText, users]);\n\n  // eslint-disable-next-line valid-jsdoc\n  /**\n   *\n   * @param {MentionUser} user\n   * @returns {(event: React.MouseEvent) => void} event\n   */\n  function handleClick(user) {\n    return event => {\n      event.stopPropagation();\n      event.preventDefault();\n\n      onSelect(user);\n    };\n  }\n\n  useEffect(() => {\n    const unsubscribe = addEventListener(\"enter\", event => {\n      event.stopPropagation();\n      event.preventDefault();\n      onSelect(usersFiltered[selectedUser]);\n    });\n\n    return () => {\n      unsubscribe();\n    };\n  }, [addEventListener, onSelect, selectedUser, usersFiltered]);\n\n  return (\n    <ul\n      className=\"react-input-emoji--mention--list\"\n      data-testid=\"mention-user-list\"\n    >\n      {usersFiltered.map((user, index) => (\n        <li key={user.id}>\n          <button\n            type=\"button\"\n            onClick={handleClick(user)}\n            className={`react-input-emoji--mention--item${\n              selectedUser === index\n                ? \" react-input-emoji--mention--item__selected\"\n                : \"\"\n            }`}\n            onMouseOver={() => setSelectedUser(index)}\n          >\n            <img\n              className=\"react-input-emoji--mention--item--img\"\n              src={user.image}\n            />\n            <div\n              className=\"react-input-emoji--mention--item--name\"\n              dangerouslySetInnerHTML={{ __html: user.nameHtml }}\n            />\n          </button>\n        </li>\n      ))}\n    </ul>\n  );\n};\n\nconst MentionUserListWithRef = forwardRef(MentionUserList);\n\nMentionUserListWithRef.propTypes = {\n  users: t.array.isRequired\n};\n\nexport default MentionUserListWithRef;\n", "// @ts-check\n/* eslint-disable react/prop-types */\n// vendors\nimport React, { useEffect, useRef, useState } from \"react\";\n\n// hooks\nimport { useMention } from \"../hooks/use-mention\";\n\n// components\nimport MentionUserList from \"./mention-user-list\";\n\n/**\n * @typedef {import('../types/types').MentionUser} MetionUser\n */\n\n/**\n * @typedef {import('../types/types').TextInputListeners} TextInputListeners\n */\n\n/**\n * @typedef {import('../types/types').SanitizeFn} SanitizeFn\n */\n\n/**\n * @typedef {Object} Props\n * @property {(text: string) => Promise<MetionUser[]>=} searchMention\n * @property {(event: keyof TextInputListeners, fn: import('../types/types').Listerner<any>) => () => void} addEventListener\n * @property {(html: string) => void} appendContent\n * @property {(fn: SanitizeFn) => void} addSanitizeFn\n */\n\n// eslint-disable-next-line valid-jsdoc\n/** @type {React.FC<Props>} */\nconst MentionWrapper = ({\n  searchMention,\n  addEventListener,\n  appendContent,\n  addSanitizeFn\n}) => {\n  /** @type {React.MutableRefObject<import('./mention-user-list').Ref | null>} */\n  const metionUserListRef = useRef(null);\n  const [showUserList, setShowUserList] = useState(false);\n\n  const {\n    mentionSearchText,\n    mentionUsers,\n    loading,\n    onKeyUp,\n    onFocus,\n    onSelectUser\n  } = useMention(searchMention);\n\n  useEffect(() => {\n    addSanitizeFn(html => {\n      const container = document.createElement(\"div\");\n      container.innerHTML = html;\n\n      const mentionsEl = Array.prototype.slice.call(\n        container.querySelectorAll(\".react-input-emoji--mention--text\")\n      );\n\n      mentionsEl.forEach(mentionEl => {\n        container.innerHTML = container.innerHTML.replace(\n          mentionEl.outerHTML,\n          `@[${mentionEl.dataset.mentionName}](userId:${mentionEl.dataset.mentionId})`\n        );\n      });\n\n      return container.innerHTML;\n    });\n  }, [addSanitizeFn]);\n\n  useEffect(() => {\n    setShowUserList(mentionUsers.length > 0);\n  }, [mentionUsers]);\n\n  useEffect(() => {\n    /** */\n    function checkClickOutside() {\n      setShowUserList(false);\n    }\n\n    document.addEventListener(\"click\", checkClickOutside);\n\n    return () => {\n      document.removeEventListener(\"click\", checkClickOutside);\n    };\n  }, []);\n\n  useEffect(() => {\n    const unsubscribe = addEventListener(\"keyUp\", onKeyUp);\n\n    return () => {\n      unsubscribe();\n    };\n  }, [addEventListener, onKeyUp]);\n\n  useEffect(() => {\n    /**\n     *\n     * @param {React.KeyboardEvent} event\n     */\n    function handleKeyDown(event) {\n      switch (event.key) {\n        case \"Esc\": // IE/Edge specific value\n        case \"Escape\":\n          setShowUserList(false);\n          break;\n        default:\n          break;\n      }\n    }\n\n    const unsubscribe = addEventListener(\"keyDown\", handleKeyDown);\n\n    return () => {\n      unsubscribe();\n    };\n  }, [addEventListener]);\n\n  useEffect(() => {\n    const unsubscribe = addEventListener(\"focus\", onFocus);\n\n    return () => {\n      unsubscribe();\n    };\n  }, [addEventListener, onFocus]);\n\n  useEffect(() => {\n    if (showUserList) {\n      const unsubscribeArrowUp = addEventListener(\"arrowUp\", event => {\n        event.stopPropagation();\n        event.preventDefault();\n        metionUserListRef.current.prevUser();\n      });\n\n      const unsubscribeArrowDown = addEventListener(\"arrowDown\", event => {\n        event.stopPropagation();\n        event.preventDefault();\n        metionUserListRef.current.nextUser();\n      });\n\n      return () => {\n        unsubscribeArrowUp();\n        unsubscribeArrowDown();\n      };\n    }\n  }, [addEventListener, showUserList]);\n\n  /**\n   *\n   * @param {MetionUser} user\n   */\n  function handleSelect(user) {\n    onSelectUser();\n    appendContent(\n      `<span class=\"react-input-emoji--mention--text\" data-mention-id=\"${user.id}\" data-mention-name=\"${user.name}\">@${user.name}</span> `\n    );\n  }\n\n  return (\n    <>\n      {loading ? (\n        <div className=\"react-input-emoji--mention--container\">\n          <div className=\"react-input-emoji--mention--loading\">\n            <div className=\"react-input-emoji--mention--loading--spinner\">\n              Loading...\n            </div>\n          </div>\n        </div>\n      ) : (\n        showUserList && (\n          <div\n            className=\"react-input-emoji--mention--container\"\n            onClick={evt => evt.stopPropagation()}\n          >\n            <MentionUserList\n              ref={metionUserListRef}\n              mentionSearchText={mentionSearchText}\n              users={mentionUsers}\n              onSelect={handleSelect}\n              addEventListener={addEventListener}\n            />\n          </div>\n        )\n      )}\n    </>\n  );\n};\n\nexport default MentionWrapper;\n", "// @ts-check\n\n// eslint-disable-next-line valid-jsdoc\n/**\n * @template T\n * @returns {import('../types/types').ListenerObj<T>}\n */\nexport function createObserver() {\n  /** @type {import('../types/types').Listerner<T>[]} */\n  let listeners = [];\n\n  return {\n    subscribe: listener => {\n      listeners.push(listener);\n      return () => {\n        listeners = listeners.filter(l => l !== listener);\n      };\n    },\n    publish: event => {\n      listeners.forEach(listener => listener(event));\n    },\n    get currentListerners() {\n      return listeners;\n    }\n  };\n}\n", "// @ts-check\n\nimport { useCallback, useMemo } from \"react\";\nimport { createObserver } from \"../utils/observer\";\n\n/**\n * @typedef {import('../types/types').TextInputListeners} TextInputListeners\n */\n\n// eslint-disable-next-line valid-jsdoc\n/** */\nexport function useEventListeners() {\n  /** @type {TextInputListeners} */\n  const listeners = useMemo(\n    () => ({\n      keyDown: createObserver(),\n      keyUp: createObserver(),\n      arrowUp: createObserver(),\n      arrowDown: createObserver(),\n      enter: createObserver(),\n      focus: createObserver(),\n      blur: createObserver()\n    }),\n    []\n  );\n\n  /**\n   * @template {keyof TextInputListeners} T, K\n   * @type {(event: keyof TextInputListeners, fn: import('../types/types').Listerner<any>) => () => void}\n   */\n  const addEventListener = useCallback(\n    (event, fn) => {\n      return listeners[event].subscribe(fn);\n    },\n    [listeners]\n  );\n\n  return { addEventListener, listeners };\n}\n", "// @ts-check\n\nimport { useCallback, useRef } from \"react\";\n\n/**\n * @typedef {import('../types/types').PolluteFn} PolluteFn\n */\n\n// eslint-disable-next-line valid-jsdoc\n/** */\nexport function usePollute() {\n  /** @type {React.MutableRefObject<PolluteFn[]>} */\n  const polluteFnsRef = useRef([]);\n\n  /** @type {(fn: PolluteFn) => void} */\n  const addPolluteFn = useCallback(fn => {\n    polluteFnsRef.current.push(fn);\n  }, []);\n\n  /** @type {(html: string) => string} */\n  const pollute = useCallback(text => {\n    const result = polluteFnsRef.current.reduce((acc, fn) => {\n      return fn(acc);\n    }, text);\n\n    return result;\n  }, []);\n\n  return { addPolluteFn, pollute };\n}\n", "// @ts-check\n/* eslint-disable react/prop-types */\n// vendors\nimport React, { useEffect, useRef, forwardRef, useCallback } from \"react\";\n\n// css\nimport \"./styles.css\";\n\n// utils\nimport { replaceAllTextEmojis } from \"./utils/emoji-utils\";\nimport { totalCharacters } from \"./utils/input-event-utils\";\n\n// hooks\nimport { useExpose } from \"./hooks/use-expose\";\nimport { useEmit } from \"./hooks/use-emit\";\n\n// components\nimport TextInput from \"./text-input\";\nimport EmojiPickerWrapper from \"./components/emoji-picker-wrapper\";\nimport MentionWrapper from \"./components/mention-wrapper\";\nimport { useEventListeners } from \"./hooks/use-event-listeners\";\nimport { useSanitize } from \"./hooks/use-sanitize\";\nimport { usePollute } from \"./hooks/user-pollute\";\n\n/**\n * @typedef {import('./types/types').MentionUser} MetionUser\n */\n\n/**\n * @typedef {import('./types/types').ListenerObj<any>} ListenerObj\n */\n\n/**\n * @typedef {object} Props\n * @property {string} value\n * @property {(value: string) => void} onChange\n * @property {\"light\" | \"dark\" | \"auto\"} theme\n * @property {boolean} cleanOnEnter\n * @property {(text: string) => void} onEnter\n * @property {string} placeholder\n * @property {(size: {width: number, height: number}) => void} onResize\n * @property {() => void} onClick\n * @property {() => void} onFocus\n * @property {() => void=} onBlur\n * @property {number} maxLength\n * @property {boolean} keepOpened\n * @property {(event: KeyboardEvent) => void} onKeyDown\n * @property {string} inputClass\n * @property {boolean} disableRecent\n * @property {number} tabIndex\n * @property {number} height\n * @property {number} borderRadius\n * @property {string} borderColor\n * @property {number} fontSize\n * @property {string} fontFamily\n * @property {object[]=} customEmojis\n * @property {(text: string) => Promise<MetionUser[]>=} searchMention\n * @property {HTMLDivElement=} buttonElement\n */\n\n/**\n * Input Emoji Component\n * @param {Props} props\n * @param {React.Ref<any>} ref\n * @return {JSX.Element}\n */\nfunction InputEmoji(props, ref) {\n  const {\n    onChange,\n    onEnter,\n    onResize,\n    onClick,\n    onFocus,\n    onBlur,\n    onKeyDown,\n    theme,\n    cleanOnEnter,\n    placeholder,\n    maxLength,\n    keepOpened,\n    inputClass,\n    disableRecent,\n    tabIndex,\n    value,\n    customEmojis,\n    searchMention,\n    buttonElement,\n    // style\n    borderRadius,\n    borderColor,\n    fontSize,\n    fontFamily\n  } = props;\n\n  /** @type {React.MutableRefObject<import('./text-input').Ref | null>} */\n  const textInputRef = useRef(null);\n\n  const { addEventListener, listeners } = useEventListeners();\n\n  const { addSanitizeFn, sanitize, sanitizedTextRef } = useSanitize();\n\n  const { addPolluteFn, pollute } = usePollute();\n\n  const updateHTML = useCallback(\n    (nextValue = \"\") => {\n      if (textInputRef.current === null) return;\n\n      textInputRef.current.html = replaceAllTextEmojis(nextValue);\n      sanitizedTextRef.current = nextValue;\n    },\n    [sanitizedTextRef]\n  );\n\n  const setValue = useCallback(\n    value => {\n      updateHTML(value);\n    },\n    [updateHTML]\n  );\n\n  const emitChange = useEmit(textInputRef, onResize, onChange);\n\n  useExpose({\n    ref,\n    setValue,\n    textInputRef,\n    emitChange\n  });\n\n  useEffect(() => {\n    if (sanitizedTextRef.current !== value) {\n      setValue(value);\n    }\n  }, [sanitizedTextRef, setValue, value]);\n\n  useEffect(() => {\n    updateHTML();\n  }, [updateHTML]);\n\n  useEffect(() => {\n    /**\n     * Handle keydown event\n     * @param {React.KeyboardEvent} event\n     * @return {boolean}\n     */\n    function handleKeydown(event) {\n      if (\n        typeof maxLength !== \"undefined\" &&\n        event.key !== \"Backspace\" &&\n        textInputRef.current !== null &&\n        totalCharacters(textInputRef.current) >= maxLength\n      ) {\n        event.preventDefault();\n      }\n\n      if (event.key === \"Enter\" && textInputRef.current) {\n        event.preventDefault();\n\n        const text = sanitize(textInputRef.current.html);\n\n        emitChange(sanitizedTextRef.current);\n\n        if (\n          typeof onEnter === \"function\" &&\n          listeners.enter.currentListerners.length === 0\n        ) {\n          onEnter(text);\n        }\n\n        if (cleanOnEnter && listeners.enter.currentListerners.length === 0) {\n          updateHTML(\"\");\n        }\n\n        if (typeof onKeyDown === \"function\") {\n          onKeyDown(event.nativeEvent);\n        }\n\n        return false;\n      }\n\n      if (typeof onKeyDown === \"function\") {\n        onKeyDown(event.nativeEvent);\n      }\n\n      return true;\n    }\n\n    const unsubscribe = addEventListener(\"keyDown\", handleKeydown);\n\n    return () => {\n      unsubscribe();\n    };\n  }, [\n    addEventListener,\n    cleanOnEnter,\n    emitChange,\n    listeners.enter.currentListerners.length,\n    maxLength,\n    onEnter,\n    onKeyDown,\n    sanitize,\n    sanitizedTextRef,\n    updateHTML\n  ]);\n\n  useEffect(() => {\n    /** */\n    function handleFocus() {\n      if (typeof onClick === \"function\") {\n        onClick();\n      }\n\n      if (typeof onFocus === \"function\") {\n        onFocus();\n      }\n    }\n\n    const unsubscribe = addEventListener(\"focus\", handleFocus);\n\n    return () => {\n      unsubscribe();\n    };\n  }, [addEventListener, onClick, onFocus]);\n\n  useEffect(() => {\n    /** */\n    function handleBlur() {\n      if (typeof onBlur === \"function\") {\n        onBlur();\n      }\n    }\n\n    const unsubscribe = addEventListener(\"blur\", handleBlur);\n\n    return () => {\n      unsubscribe();\n    };\n  }, [addEventListener, onBlur]);\n\n  /**\n   *\n   * @param {string} html\n   */\n  function handleTextInputChange(html) {\n    sanitize(html);\n    emitChange(sanitizedTextRef.current);\n  }\n\n  /**\n   *\n   * @param {string} html\n   */\n  function appendContent(html) {\n    if (\n      typeof maxLength !== \"undefined\" &&\n      textInputRef.current !== null &&\n      totalCharacters(textInputRef.current) >= maxLength\n    ) {\n      return;\n    }\n\n    if (textInputRef.current !== null) {\n      textInputRef.current.appendContent(html);\n    }\n  }\n\n  /**\n   * Handle copy of current selected text\n   * @param {React.ClipboardEvent} event\n   */\n  function handleCopy(event) {\n    event.clipboardData.setData(\"text\", sanitizedTextRef.current);\n    event.preventDefault();\n  }\n\n  /**\n   * Handle past on input\n   * @param {React.ClipboardEvent} event\n   */\n  function handlePaste(event) {\n    event.preventDefault();\n    let content;\n    if (event.clipboardData) {\n      content = event.clipboardData.getData(\"text/plain\");\n      content = pollute(content);\n      document.execCommand(\"insertHTML\", false, content);\n    }\n  }\n\n  return (\n    <div className=\"react-emoji\">\n      <MentionWrapper\n        searchMention={searchMention}\n        addEventListener={addEventListener}\n        appendContent={appendContent}\n        addSanitizeFn={addSanitizeFn}\n      />\n      <TextInput\n        ref={textInputRef}\n        onCopy={handleCopy}\n        onPaste={handlePaste}\n        onBlur={listeners.blur.publish}\n        onFocus={listeners.focus.publish}\n        onArrowUp={listeners.arrowUp.publish}\n        onArrowDown={listeners.arrowDown.publish}\n        onKeyUp={listeners.keyUp.publish}\n        onKeyDown={listeners.keyDown.publish}\n        onEnter={listeners.enter.publish}\n        placeholder={placeholder}\n        style={{\n          borderRadius,\n          borderColor,\n          fontSize,\n          fontFamily\n        }}\n        tabIndex={tabIndex}\n        className={inputClass}\n        onChange={handleTextInputChange}\n      />\n      <EmojiPickerWrapper\n        theme={theme}\n        keepOpened={keepOpened}\n        disableRecent={disableRecent}\n        customEmojis={customEmojis}\n        addSanitizeFn={addSanitizeFn}\n        addPolluteFn={addPolluteFn}\n        appendContent={appendContent}\n        buttonElement={buttonElement}\n      />\n    </div>\n  );\n}\n\nconst InputEmojiWithRef = forwardRef(InputEmoji);\n\nInputEmojiWithRef.defaultProps = {\n  theme: /** @type {const} */ (\"auto\"),\n  height: 30,\n  placeholder: \"Type a message\",\n  borderRadius: 21,\n  borderColor: \"#EAEAEA\",\n  fontSize: 15,\n  fontFamily: \"sans-serif\",\n  tabIndex: 0,\n  customEmojis: []\n};\n\nexport default InputEmojiWithRef;\n"],
  "mappings": "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;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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",
  "names": ["styleInject", "css", "ref", "insertAt", "document", "head", "getElementsByTagName", "style", "createElement", "type", "firstChild", "insertBefore", "appendChild", "styleSheet", "cssText", "createTextNode", "TRANSPARENT_GIF", "replaceAllTextEmojis", "text", "allEmojis", "getAllEmojisFromText", "allEmojiStyle", "Set", "forEach", "emoji", "replaceAll", "str", "find", "replace", "RegExp", "match", "getImageEmoji", "shortNames", "short_names", "emojiSpanEl", "querySelector", "native", "id", "dataEmoji", "emoticons", "length", "replaceAllTextEmojiToString", "html", "container", "innerHTML", "images", "Array", "prototype", "slice", "call", "querySelectorAll", "image", "outerHTML", "dataset", "handlePasteHtmlAtCaret", "sel", "range", "window", "getSelection", "getRangeAt", "rangeCount", "deleteContents", "el", "frag", "createDocumentFragment", "node", "lastNode", "insertNode", "cloneRange", "setStartAfter", "collapse", "removeAllRanges", "addRange", "totalCharacters", "textCount", "emojisCount", "useSanitize", "sanitizeFnsRef", "useRef", "sanitizedTextRef", "addSanitizeFn", "useCallback", "fn", "current", "push", "sanitize", "result", "reduce", "acc", "replaceAllHtmlToString", "innerText", "useExpose", "textInputRef", "setValue", "emitChange", "useImperativeHandle", "value", "focus", "blur", "useEmit", "onResize", "onChange", "currentSizeRef", "onChangeFn", "checkAndEmitResize", "currentSize", "nextSize", "size", "width", "height", "sanitizedText", "useEffect", "TextInput", "placeholder", "tabIndex", "className", "props", "appendContent", "placeholderRef", "trim", "visibility", "offsetWidth", "offsetHeight", "handleKeyDown", "event", "key", "onEnter", "onArrowUp", "onArrowDown", "onKeyDown", "handleClick", "onFocus", "handleKeyUp", "onKeyUp", "input", "React", "onBlur", "onCopy", "onPaste", "TextInputWithRef", "forwardRef", "EmojiPickerButton", "showPicker", "toggleShowPicker", "buttonElement", "buttonRef", "showCustomButtonContent", "setShowCustomButtonContent", "useState", "childNodes", "_classCallCheck", "instance", "Constructor", "TypeError", "_defineProperties", "target", "i", "descriptor", "enumerable", "configurable", "writable", "Object", "defineProperty", "_createClass", "protoProps", "staticProps", "_typeof", "obj", "Symbol", "iterator", "constructor", "mapping", "name", "unified", "non_qualified", "has_img_apple", "has_img_google", "has_img_twitter", "has_img_facebook", "keywords", "sheet", "added_in", "buildSearch", "search", "addToSearch", "strings", "split", "isArray", "string", "s", "toLowerCase", "indexOf", "join", "uncompress", "data", "compressed", "emojis", "unshift", "sheet_x", "sheet_y", "toFixed", "_String", "String", "fromCodePoint", "stringFromCodePoint", "MAX_SIZE", "codeUnits", "highSurrogate", "lowSurrogate", "index", "arguments", "codePoint", "Number", "isFinite", "Math", "floor", "RangeError", "fromCharCode", "apply", "COLONS_REGEX", "SKINS", "unifiedToNative", "unicodes", "codePoints", "map", "u", "concat", "skin_tone", "skin_variations", "custom", "customCategory", "imageUrl", "colons", "skin", "getSanitizedData", "getData", "set", "emojiData", "matches", "parseInt", "aliases", "hasOwnProperty", "keys", "variations", "JSON", "parse", "stringify", "skinKey", "variationData", "undefined", "k", "v", "shift", "uniq", "arr", "item", "intersect", "a", "b", "uniqA", "uniqB", "filter", "deepMerge", "o", "originalValue", "measureScrollbar", "div", "overflow", "position", "top", "body", "scrollbarWidth", "clientWidth", "removeChild", "throttleIdleTask", "func", "doIdleTask", "requestIdleCallback", "setTimeout", "running", "throttled", "NAMESPACE", "isLocalStorageSupported", "getter", "setter", "setHandlers", "handlers", "setNamespace", "namespace", "update", "state", "localStorage", "e", "get", "NimbleEmojiIndex", "originalPool", "customEmojisList", "buildIndex", "_this", "_loop", "emoticon", "skinTone", "clearCustomEmojis", "pool", "_this2", "emojiId", "addCustomToPool", "_this3", "_this4", "_ref", "emojisToShowFilter", "maxResults", "include", "exclude", "_ref$custom", "store", "results", "values", "allResults", "categories", "category", "isIncluded", "isExcluded", "customIsIncluded", "customIsExcluded", "aPool", "aIndex", "charIndex", "_char", "scores", "sub", "substr", "subIndex", "score", "sort", "aScore", "bScore", "localeCompare", "emojiIndex", "DEFAULTS", "frequently", "initialized", "defaults", "init", "add", "perLine", "quantity", "frequentlyKeys", "sorted", "reverse", "sliced", "last", "pop", "_defineProperty", "_extends", "assign", "bind", "source", "_assertThisInitialized", "self", "ReferenceError", "_possibleConstructorReturn", "assertThisInitialized", "_getPrototypeOf", "setPrototypeOf", "getPrototypeOf", "__proto__", "_setPrototypeOf", "p", "_inherits", "subClass", "superClass", "create", "activity", "xmlns", "viewBox", "d", "transform", "x", "y", "rx", "flags", "foods", "nature", "objects", "people", "places", "recent", "symbols", "opacity", "_delete", "EmojiPropTypes", "PropTypes", "object", "isRequired", "onOver", "onLeave", "onClick", "fallback", "backgroundImageFn", "bool", "forceSize", "tooltip", "useButton", "oneOf", "sheetSize", "sheetColumns", "number", "sheetRows", "oneOfType", "PickerPropTypes", "onSelect", "onSkinChange", "emojiSize", "i18n", "title", "color", "showPreview", "showSkinTones", "emojiTooltip", "theme", "arrayOf", "autoFocus", "enableFrequentEmojiSort", "shape", "spriteUrl", "skinEmoji", "notFound", "notFoundEmoji", "icons", "Anchors", "_React$PureComponent", "defaultCategory", "first", "selected", "currentTarget", "getAttribute", "_this$props", "onAnchorClick", "render", "_this$props2", "categorieslabel", "anchor", "isSelected", "iconId", "startsWith", "backgroundColor", "PureComponent", "propTypes", "array", "defaultProps", "EmojiDefaultProps", "PickerDefaultProps", "defaultSkin", "ownKeys", "enumerableOnly", "getOwnPropertySymbols", "sym", "getOwnPropertyDescriptor", "_objectSpread", "getOwnPropertyDescriptors", "defineProperties", "_getData", "_getPosition", "_getData2", "multiplyX", "multiplyY", "_getSanitizedData", "_handleClick", "_handleOver", "_handleLeave", "_isNumeric", "isNaN", "parseFloat", "_convertStyleToCSS", "NimbleEmoji", "children", "nativeEmoji", "label", "Boolean", "fontSize", "display", "wordBreak", "backgroundImage", "backgroundSize", "backgroundPosition", "backgroundRepeat", "setHasEmoji", "Tag", "onMouseEnter", "onMouseLeave", "NotFound", "emojiProps", "component", "notfound", "Category", "_React$Component", "setContainerRef", "setLabelRef", "componentDidMount", "margin", "minMargin", "memoizeSize", "shouldComponentUpdate", "nextProps", "nextState", "_native", "hasStickyPosition", "nextPerLine", "nextNative", "nextHasStickyPosition", "nextEmojis", "nextEmojiProps", "nextSkin", "nextSet", "shouldUpdate", "maxMargin", "parent", "parentElement", "_this$container$getBo", "getBoundingClientRect", "_parent$getBoundingCl", "parentTop", "_this$label$getBoundi", "labelHeight", "scrollTop", "handleScroll", "getEmojis", "frequentlyUsed", "updateDisplay", "c", "_this$props3", "labelStyles", "labelSpanStyles", "containerStyles", "Component", "Skins", "opened", "setState", "SkinsEmoji", "_Skins", "skinToneNodes", "skintext", "SkinsDot", "keyCode", "preventDefault", "visible", "skintones", "role", "Preview", "skinsProps", "idleEmoji", "_emojiData$emoticons", "knownEmoticons", "listedEmoticons", "short_name", "Search", "icon", "isSearching", "setRef", "clear", "handleChange", "onSearch", "_this$state", "inputId", "htmlFor", "disabled", "I18N", "NimblePicker", "CUSTOM", "RECENT_CATEGORY", "SEARCH_CATEGORY", "firstRender", "allCategories", "customCategories", "customCategoriesCreated", "customEmoji", "hideRecent", "categoryIndex", "newEmojis", "newCategory", "includeRecent", "excludeRecent", "setAnchorsRef", "handleAnchorClick", "setSearchRef", "handleSearch", "setScrollRef", "handleScrollPaint", "handleEmojiOver", "handleEmojiLeave", "handleEmojiClick", "handleEmojiSelect", "setPreviewRef", "handleSkinChange", "handleDarkMatchMediaChange", "testStickyPosition", "firstRenderTimeout", "componentDidUpdate", "updateCategoriesSize", "componentWillUnmount", "clearTimeout", "leaveTimeout", "darkMatchMedia", "removeListener", "stickyTestElement", "prefixes", "prefix", "getPreferredTheme", "matchMedia", "addListener", "media", "preview", "categoryRefs", "forceUpdate", "requestAnimationFrame", "scroll", "waitingForPaint", "activeCategory", "scrollingDown", "minTop", "l", "ii", "active", "clientHeight", "scrollHeight", "anchors", "_activeCategory", "categoryName", "scrollToComponent", "newState", "handled", "getCategories", "setCategoryRef", "onScroll", "Picker", "EmojiPicker", "onSelectEmoji", "disableRecent", "customEmojis", "excludePicker", "useMemo", "t", "memo", "EmojiPickerContainer", "handleSelectEmoji", "evt", "stopPropagation", "EmojiPickerWrapper", "keepOpened", "addPolluteFn", "setShowPicker", "customButton", "setCustomButton", "checkClickOutside", "element", "classList", "contains", "addEventListener", "removeEventListener", "currentShowPicker", "ReactDOM", "createPortal", "getTextFromAtToCaret", "getRangeFromAtToCaret", "substring", "begin", "end", "deleteTextFromAtToCaret", "deleteData", "elementWithFocus", "getElementWithFocus", "caretOffset", "textContent", "lastAt", "lastIndexOf", "getSelectionStart", "preCaretRange", "selectNodeContents", "setEnd", "endContainer", "endOffset", "toString", "selection", "textRange", "createRange", "preCaretTextRange", "createTextRange", "moveToElementText", "setEndPoint", "anchorNode", "nodeType", "useMention", "searchMention", "loading", "setLoading", "mentionUsers", "setMentionUsers", "mentionSearchText", "setMentionSearchText", "onSelectUser", "checkMentionText", "metionText", "users", "hasAttribute", "remove", "includes", "MentionUserList", "selectedUser", "setSelectedUser", "prevUser", "currentSelectedUser", "nextUser", "getMentionSelectedNameEl", "selectedText", "rest", "usersFiltered", "searchText", "toLocaleLowerCase", "user", "nameHtml", "names", "unsubscribe", "__html", "MentionUserListWithRef", "MentionWrapper", "metionUserListRef", "showUserList", "setShowUserList", "mentionsEl", "mentionEl", "mentionName", "mentionId", "unsubscribeArrowUp", "unsubscribeArrowDown", "handleSelect", "createObserver", "listeners", "subscribe", "listener", "publish", "currentListerners", "useEventListeners", "keyDown", "keyUp", "arrowUp", "arrowDown", "enter", "usePollute", "polluteFnsRef", "pollute", "InputEmoji", "cleanOnEnter", "maxLength", "inputClass", "borderRadius", "borderColor", "fontFamily", "updateHTML", "nextValue", "handleKeydown", "nativeEvent", "handleFocus", "handleBlur", "handleTextInputChange", "handleCopy", "clipboardData", "setData", "handlePaste", "content", "execCommand", "InputEmojiWithRef"]
}
